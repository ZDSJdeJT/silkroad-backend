import{v as C,aq as D,z as _,B as z,g as B,F as u,O as f,G as p,H as s,Z as I,u as h,aj as U,$ as v,K as E,Y as V,_ as T,a1 as P,b as A,r as S,aw as J,Q as g,aS as x,P as o,aO as y,aQ as K,ag as $,J as F}from"./index-4f510b15.js";import{E as O,a as j,b as q}from"./tab-pane-682f2665.js";import{E as G,j as M,k as Q,_ as Z}from"./_plugin-vue_export-helper-4de89ac7.js";import{b as H,E as R}from"./button-d99e512c.js";import{E as W}from"./card-7d8be324.js";const Y=C({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:D}}),X={click:i=>i instanceof MouseEvent},ee=["href"],te=_({name:"ElLink"}),ae=_({...te,props:Y,emits:X,setup(i,{emit:r}){const n=i,e=z("link"),c=B(()=>[e.b(),e.m(n.type),e.is("disabled",n.disabled),e.is("underline",n.underline&&!n.disabled)]);function t(a){n.disabled||r("click",a)}return(a,m)=>(u(),f("a",{class:E(h(c)),href:a.disabled||!a.href?void 0:a.href,onClick:t},[a.icon?(u(),p(h(U),{key:0},{default:s(()=>[(u(),p(I(a.icon)))]),_:1})):v("v-if",!0),a.$slots.default?(u(),f("span",{key:1,class:E(h(e).e("inner"))},[V(a.$slots,"default")],2)):v("v-if",!0),a.$slots.icon?V(a.$slots,"icon",{key:2}):v("v-if",!0)],10,ee))}});var ne=T(ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const le=P(ne),se=C({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:A,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),oe=_({name:"ElText"}),re=_({...oe,props:se,setup(i){const r=i,n=H(),e=z("text"),c=B(()=>[e.b(),e.m(r.type),e.m(n.value),e.is("truncated",r.truncated)]);return(t,a)=>(u(),p(I(t.tag),{class:E(h(c))},{default:s(()=>[V(t.$slots,"default")]),_:3},8,["class"]))}});var ue=T(re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const ce=P(ue),ie=_({__name:"EditSettingsForm",setup(i){const r=S([]),n=S([]);(async()=>{const t=await x.get("v1/settings");r.value=t.result,n.value=new Array(t.result.length).fill(!1)})();const c=async(t,a)=>{n.value[t]=!0;try{const m=await x.put(`v1/admin/settings/${r.value[t].key}`,a);K.success(m.message)}finally{n.value[t]=!1}};return(t,a)=>{const m=G,b=M,w=R,N=O,L=Q;return u(!0),f(g,null,J(r.value,(l,k)=>(u(),p(L,{key:l.key,inline:!0,model:l,"label-width":"130px"},{default:s(()=>[l.isText?(u(),f(g,{key:0},[o(b,{label:l.label},{default:s(()=>[o(m,{modelValue:l.textValue,"onUpdate:modelValue":d=>l.textValue=d,placeholder:"请输入","show-password":l.key.includes("PASSWORD"),maxlength:l.max,minlength:l.min},null,8,["modelValue","onUpdate:modelValue","show-password","maxlength","minlength"])]),_:2},1032,["label"]),o(b,null,{default:s(()=>[o(w,{type:"primary",loading:n.value[k],onClick:d=>c(k,l.textValue)},{default:s(()=>[y("更新")]),_:2},1032,["loading","onClick"])]),_:2},1024)],64)):(u(),f(g,{key:1},[o(b,{label:l.label},{default:s(()=>[o(N,{modelValue:l.numberValue,"onUpdate:modelValue":d=>l.numberValue=d,max:l.max,min:l.min},null,8,["modelValue","onUpdate:modelValue","max","min"])]),_:2},1032,["label"]),o(b,null,{default:s(()=>[o(w,{type:"primary",loading:n.value[k],onClick:d=>c(k,l.numberValue)},{default:s(()=>[y("更新")]),_:2},1032,["loading","onClick"])]),_:2},1024)],64))]),_:2},1032,["model"]))),128)}}});const me=F("br",null,null,-1),pe=F("br",null,null,-1),_e=_({__name:"VersionInfo",setup(i){const r=S(null);return(async()=>{const e=await x.get("v1/system/info");r.value=e.result})(),(e,c)=>{const t=ce,a=le,m=W;return r.value?(u(),p(m,{key:0,class:"box-card"},{default:s(()=>[o(t,{class:"mx-1",size:"large"},{default:s(()=>[y($(r.value.appName),1)]),_:1}),me,o(t,{class:"mx-1"},{default:s(()=>[y("V"+$(r.value.appVersion),1)]),_:1}),pe,o(a,{type:"primary",href:"https://github.com/ZDSJdeJT/silkroad-backend",target:"_blank"},{default:s(()=>[y("Github")]),_:1})]),_:1})):v("",!0)}}}),de={};function fe(i,r){const n=_e,e=q,c=ie,t=j;return u(),p(t,{"tab-position":"left"},{default:s(()=>[o(e,{label:"版本信息",lazy:""},{default:s(()=>[o(n)]),_:1}),o(e,{label:"配置项",lazy:""},{default:s(()=>[o(c)]),_:1})]),_:1})}const ge=Z(de,[["render",fe]]);export{ge as default};
