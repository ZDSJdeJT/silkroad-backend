import{z as V,r as f,F as r,O as w,aw as x,Q as C,aR as i,G as c,H as t,P as o,aO as I,aQ as S,J as y,ag as E,$ as F}from"./index-a9112117.js";import{E as N,a as B,b as $}from"./tab-pane-81cbf15f.js";import{j as U,E as P,k as T,_ as A}from"./_plugin-vue_export-helper-a6840cef.js";import{E as L}from"./button-8e10b83a.js";import{E as O}from"./card-43a071ae.js";const Q=V({__name:"EditSettingsForm",setup(b){const l=f([]),n=f([]);(async()=>{const e=await i.get("v1/settings");l.value=e.result,n.value=new Array(e.result.length).fill(!1)})();const u=async(e,m)=>{n.value[e]=!0;try{const p=await i.put(`v1/admin/settings/${m.key}`,m.value.data);S.success(p.message)}finally{n.value[e]=!1}};return(e,m)=>{const p=N,d=U,h=P,k=L,g=T;return r(!0),w(C,null,x(l.value,(a,v)=>(r(),c(g,{key:a.key,inline:!0,model:a,"label-width":"130px"},{default:t(()=>[typeof a.value.data=="number"?(r(),c(d,{key:0,label:a.label},{default:t(()=>[o(p,{modelValue:a.value.data,"onUpdate:modelValue":_=>a.value.data=_},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])):(r(),c(d,{key:1,label:a.label},{default:t(()=>[o(h,{modelValue:a.value.data,"onUpdate:modelValue":_=>a.value.data=_,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])),o(d,null,{default:t(()=>[o(k,{type:"primary",loading:n.value[v],onClick:_=>u(v,a)},{default:t(()=>[I("更新")]),_:2},1032,["loading","onClick"])]),_:2},1024)]),_:2},1032,["model"]))),128)}}}),j=V({__name:"VersionInfo",setup(b){const l=f(null);return(async()=>{const s=await i.get("v1/system/info");l.value=s.result})(),(s,u)=>{const e=O;return l.value?(r(),c(e,{key:0,class:"box-card"},{default:t(()=>[y("h1",null,E(l.value.appName),1),y("h2",null,"V"+E(l.value.appVersion),1)]),_:1})):F("",!0)}}}),q={};function z(b,l){const n=j,s=$,u=Q,e=B;return r(),c(e,{"tab-position":"left",class:"demo-tabs"},{default:t(()=>[o(s,{label:"版本信息"},{default:t(()=>[o(n)]),_:1}),o(s,{label:"配置项"},{default:t(()=>[o(u)]),_:1})]),_:1})}const R=A(q,[["render",z]]);export{R as default};
