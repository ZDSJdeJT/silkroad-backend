import{v as $,aq as L,z as d,B as C,g as x,F as o,O as k,G as p,H as l,Z as z,u as f,aj as U,$ as y,K as h,Y as g,_ as B,a1 as I,b as D,r as E,aw as J,Q as K,aS as S,P as r,aO as b,aQ as j,ag as V,J as T}from"./index-3dd3ac21.js";import{E as q,a as A,b as G}from"./tab-pane-5499857a.js";import{j as M,E as O,k as Q,_ as Z}from"./_plugin-vue_export-helper-10e66bdf.js";import{b as H,E as Y}from"./button-3580ba17.js";import{E as R}from"./card-aef0930d.js";const W=$({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:L}}),X={click:u=>u instanceof MouseEvent},ee=["href"],te=d({name:"ElLink"}),ae=d({...te,props:W,emits:X,setup(u,{emit:s}){const n=u,t=C("link"),i=x(()=>[t.b(),t.m(n.type),t.is("disabled",n.disabled),t.is("underline",n.underline&&!n.disabled)]);function e(a){n.disabled||s("click",a)}return(a,_)=>(o(),k("a",{class:h(f(i)),href:a.disabled||!a.href?void 0:a.href,onClick:e},[a.icon?(o(),p(f(U),{key:0},{default:l(()=>[(o(),p(z(a.icon)))]),_:1})):y("v-if",!0),a.$slots.default?(o(),k("span",{key:1,class:h(f(t).e("inner"))},[g(a.$slots,"default")],2)):y("v-if",!0),a.$slots.icon?g(a.$slots,"icon",{key:2}):y("v-if",!0)],10,ee))}});var se=B(ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const ne=I(se),le=$({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:D,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),oe=d({name:"ElText"}),re=d({...oe,props:le,setup(u){const s=u,n=H(),t=C("text"),i=x(()=>[t.b(),t.m(s.type),t.m(n.value),t.is("truncated",s.truncated)]);return(e,a)=>(o(),p(z(e.tag),{class:h(f(i))},{default:l(()=>[g(e.$slots,"default")]),_:3},8,["class"]))}});var ce=B(re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const ue=I(ce),ie=d({__name:"EditSettingsForm",setup(u){const s=E([]),n=E([]);(async()=>{const e=await S.get("v1/settings");s.value=e.result,n.value=new Array(e.result.length).fill(!1)})();const i=async e=>{n.value[e]=!0;try{const a=await S.put(`v1/admin/settings/${s.value[e].key}`,s.value[e].value.data);j.success(a.message)}finally{n.value[e]=!1}};return(e,a)=>{const _=q,v=M,F=O,N=Y,P=Q;return o(!0),k(K,null,J(s.value,(c,w)=>(o(),p(P,{key:c.key,inline:!0,model:c,"label-width":"130px"},{default:l(()=>[typeof c.value.data=="number"?(o(),p(v,{key:0,label:c.label},{default:l(()=>[r(_,{modelValue:c.value.data,"onUpdate:modelValue":m=>c.value.data=m},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])):(o(),p(v,{key:1,label:c.label},{default:l(()=>[r(F,{modelValue:c.value.data,"onUpdate:modelValue":m=>c.value.data=m,placeholder:"请输入","show-password":c.label.includes("密码")},null,8,["modelValue","onUpdate:modelValue","show-password"])]),_:2},1032,["label"])),r(v,null,{default:l(()=>[r(N,{type:"primary",loading:n.value[w],onClick:m=>i(w)},{default:l(()=>[b("更新")]),_:2},1032,["loading","onClick"])]),_:2},1024)]),_:2},1032,["model"]))),128)}}});const pe=T("br",null,null,-1),de=T("br",null,null,-1),_e=d({__name:"VersionInfo",setup(u){const s=E(null);return(async()=>{const t=await S.get("v1/system/info");s.value=t.result})(),(t,i)=>{const e=ue,a=ne,_=R;return s.value?(o(),p(_,{key:0,class:"box-card"},{default:l(()=>[r(e,{class:"mx-1",size:"large"},{default:l(()=>[b(V(s.value.appName),1)]),_:1}),pe,r(e,{class:"mx-1"},{default:l(()=>[b("V"+V(s.value.appVersion),1)]),_:1}),de,r(a,{type:"primary",href:"https://github.com/ZDSJdeJT/silkroad-backend",target:"_blank"},{default:l(()=>[b("Github")]),_:1})]),_:1})):y("",!0)}}}),me={};function fe(u,s){const n=_e,t=G,i=ie,e=A;return o(),p(e,{"tab-position":"left"},{default:l(()=>[r(t,{label:"版本信息",lazy:""},{default:l(()=>[r(n)]),_:1}),r(t,{label:"配置项",lazy:""},{default:l(()=>[r(i)]),_:1})]),_:1})}const ge=Z(me,[["render",fe]]);export{ge as default};
