var Tt=Object.defineProperty,Et=Object.defineProperties;var Pt=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var Be=(e,t,i)=>t in e?Tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,$=(e,t)=>{for(var i in t||(t={}))Rt.call(t,i)&&Be(e,i,t[i]);if(_e)for(var i of _e(t))zt.call(t,i)&&Be(e,i,t[i]);return e},_=(e,t)=>Et(e,Pt(t));import{Q as $t,a as Mt,b as Nt,c as Ie,d as Ft,e as Oe,f as Lt}from"./QInnerLoading.cd428e65.js";import{s as xt,a as pe,ac as Dt,ad as At,ae as qt,f as M,d as T,af as _t,ag as Bt,ah as It,ai as Ot,aj as Ut,w as ue,o as ke,a9 as Ue,a8 as Qe,t as Qt,h as C,ao as Ht,j as ge,e as Ze,a6 as Ne,av as Vt,aw as et,a7 as Re,au as H,T as he,ax as jt,ay as Kt,q as Fe,az as He,a2 as tt,a4 as ot,aA as Wt,aB as Gt,a0 as Yt,ap as Xt,F as te,H as K,J as O,I as S,aC as nt,K as b,aD as me,M as Le,R as J,P as Ve,Q as X,aE as at,aF as lt,U as it,aG as xe,N as le,aH as ze,V as rt,aI as $e,aJ as st,aK as ut,aL as ct,aM as dt,aN as Jt,aO as Zt,aP as eo,aQ as to,aR as oo,aS as no,aT as ao,aU as lo,aV as io,aW as ro,aX as je,aY as so,aZ as ft,a_ as vt,$ as Se,W as uo,a$ as co,b0 as Ke,b1 as fo}from"./index.30880f2b.js";import{F as vo,Q as ht}from"./FileSaver.min.605c605e.js";import{api as ce}from"./axios.ed2d261c.js";import{u as ho,v as We,e as mo,f as po,g as go,r as Ge,s as yo,p as Ye,h as bo,b as Te,a as Me,Q as Co,d as wo,c as Ce}from"./QBtnDropdown.2ae2341f.js";import{d as So}from"./i18n.72ea96ee.js";import{c as Xe}from"./selection.0c3f5432.js";const de="/public",ko=async()=>await ce.get(`${de}/settings`),To=async e=>await ce.post(`${de}/upload/text`,e),Eo=async(e,t)=>await ce.post(`${de}/upload/file/${e}`,t),Po=async(e,t)=>await ce.post(`${de}/upload/file/merge/${e}`,t),Ro=async e=>{const t=await ce.get(`${de}/receive/${e}`,{responseType:"arraybuffer"}),i=new TextDecoder("utf-8"),r=i.decode(t),u=r.indexOf(`
`),c=r.slice(0,u),n=JSON.parse(c),a=new TextEncoder().encode(c),l=t.slice(a.length+1);return{data:n,callback:n.result.filename===""?()=>i.decode(l):()=>(vo.exports.saveAs(new Blob([l],{type:"application/octet-stream"}),n.result.filename),"")}},zo=async e=>await ce.delete(`${de}/records/${e}`);function mt(e,t){if(t&&e===t)return null;const i=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(i)===!0)return e;const r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,u=r.display;return u==="block"||u==="table"?e:mt(e.parentNode)}function Pe(e,t,i){return!e||e===document.body?!1:i===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function pt(e,t,i){if(i||(i=document.createRange(),i.selectNode(e),i.setStart(e,0)),t.count===0)i.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(i.setEnd(e,t.count),t.count=0);else for(let r=0;t.count!==0&&r<e.childNodes.length;r++)i=pt(e.childNodes[r],t,i);return i}const $o=/^https?:\/\//;class Mo{constructor(t,i){this.el=t,this.eVm=i,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(Pe(t.anchorNode,this.el,!0)&&Pe(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length>0:!1}get range(){const t=this.selection;return t!==null&&t.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const i=t.startContainer;return i.nodeType===document.ELEMENT_NODE?i:i.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?mt(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const i=document.createRange(),r=document.getSelection();t!==null?(i.setStart(t.startContainer,t.startOffset),i.setEnd(t.endContainer,t.endOffset),r.removeAllRanges(),r.addRange(i)):(r.selectAllChildren(this.el),r.collapseToEnd())}savePosition(){let t=-1,i;const r=document.getSelection(),u=this.el.parentNode;if(r.focusNode&&Pe(r.focusNode,u))for(i=r.focusNode,t=r.focusOffset;i&&i!==u;)i!==this.el&&i.previousSibling?(i=i.previousSibling,t+=i.textContent.length):i=i.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const i=window.getSelection(),r=pt(this.el,{count:this.savedPos});r&&(r.collapse(!1),i.removeAllRanges(),i.addRange(r))}}hasParent(t,i){const r=i?this.parent:this.blockParent;return r!==null?r.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,i,r=this.parent){return r===null?!1:t.includes(r.nodeName.toLowerCase())===!0?!0:i===!0?this.hasParents(t,i,r.parentNode):!1}is(t,i){if(this.selection===null)return!1;switch(t){case"formatBlock":return i==="DIV"&&this.parent===this.el||this.hasParent(i,i==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===i;case"fontName":const r=document.queryCommandValue(t);return r===`"${i}"`||r===i;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const u=document.queryCommandState(t);return i!==void 0?u===i:u}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,i,r=xt){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(i)&&this.is(t,i)&&(t="outdent",i=null),i==="PRE"&&this.is(t,"PRE")&&(i="P");else if(t==="print"){r();const u=window.open();u.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),u.print(),u.close();return}else if(t==="link"){const u=this.getParentAttribute("href");if(u===null){const c=this.selectWord(this.selection),n=c?c.toString():"";if(!n.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=$o.test(n)?n:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(c.getRangeAt(0))}else this.eVm.editLinkUrl.value=u,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),r();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),r();return}document.execCommand(t,!1,i),r()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const i=document.createRange();i.setStart(t.anchorNode,t.anchorOffset),i.setEnd(t.focusNode,t.focusOffset);const r=i.collapsed?["backward","forward"]:["forward","backward"];i.detach();const u=t.focusNode,c=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",r[0],"character"),t.modify("move",r[1],"word"),t.extend(u,c),t.modify("extend",r[1],"character"),t.modify("extend",r[0],"word"),t}}var No=pe({name:"QTooltip",inheritAttrs:!1,props:_($($($({},ho),Dt),At),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:We},self:{type:String,default:"top middle",validator:We},offset:{type:Array,default:()=>[14,14],validator:mo},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...qt],setup(e,{slots:t,emit:i,attrs:r}){let u,c;const n=ge(),{proxy:{$q:o}}=n,a=M(null),l=M(!1),s=T(()=>Ye(e.anchor,o.lang.rtl)),f=T(()=>Ye(e.self,o.lang.rtl)),d=T(()=>e.persistent!==!0),{registerTick:h,removeTick:p}=_t(),{registerTimeout:g,removeTimeout:y}=Bt(),{transition:k,transitionStyle:E}=It(e,l),{localScrollTarget:F,changeScrollEvent:R,unconfigureScrollTarget:x}=po(e,ae),{anchorEl:N,canShow:z,anchorEvents:B}=go({showing:l,configureAnchorEl:ne}),{show:U,hide:Z}=Ot({showing:l,canShow:z,handleShow:Y,handleHide:oe,hideOnRouteChange:d,processOnMount:!0});Object.assign(B,{delayShow:D,delayHide:I});const{showPortal:W,hidePortal:G,renderPortal:V}=Ut(n,a,fe);if(o.platform.is.mobile===!0){const L={anchorEl:N,innerRef:a,onClickOutside(j){return Z(j),j.target.classList.contains("q-dialog__backdrop")&&Ne(j),!0}},Q=T(()=>e.modelValue===null&&e.persistent!==!0&&l.value===!0);ue(Q,j=>{(j===!0?bo:Ge)(L)}),ke(()=>{Ge(L)})}function Y(L){p(),y(),W(),h(()=>{c=new MutationObserver(()=>w()),c.observe(a.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),w(),ae()}),u===void 0&&(u=ue(()=>o.screen.width+"|"+o.screen.height+"|"+e.self+"|"+e.anchor+"|"+o.lang.rtl,w)),g(()=>{W(!0),i("show",L)},e.transitionDuration)}function oe(L){p(),y(),G(),re(),g(()=>{G(!0),i("hide",L)},e.transitionDuration)}function re(){c!==void 0&&(c.disconnect(),c=void 0),u!==void 0&&(u(),u=void 0),x(),Ue(B,"tooltipTemp")}function w(){const L=a.value;N.value===null||!L||yo({el:L,offset:e.offset,anchorEl:N.value,anchorOrigin:s.value,selfOrigin:f.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function D(L){if(o.platform.is.mobile===!0){Xe(),document.body.classList.add("non-selectable");const Q=N.value,j=["touchmove","touchcancel","touchend","click"].map(be=>[Q,be,"delayHide","passiveCapture"]);Qe(B,"tooltipTemp",j)}g(()=>{U(L)},e.delay)}function I(L){y(),o.platform.is.mobile===!0&&(Ue(B,"tooltipTemp"),Xe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),g(()=>{Z(L)},e.hideDelay)}function ne(){if(e.noParentEvent===!0||N.value===null)return;const L=o.platform.is.mobile===!0?[[N.value,"touchstart","delayShow","passive"]]:[[N.value,"mouseenter","delayShow","passive"],[N.value,"mouseleave","delayHide","passive"]];Qe(B,"anchor",L)}function ae(){if(N.value!==null||e.scrollTarget!==void 0){F.value=Qt(N.value,e.scrollTarget);const L=e.noParentEvent===!0?w:Z;R(F.value,L)}}function ye(){return l.value===!0?C("div",_($({},r),{ref:a,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",r.class],style:[r.style,E.value],role:"complementary"}),Ze(t.default)):null}function fe(){return C(Ht,{name:k.value,appear:!0},ye)}return ke(re),Object.assign(n.proxy,{updatePosition:w}),V}});function gt(e,t,i){t.handler?t.handler(e,i,i.caret):i.runCmd(t.cmd,t.param)}function De(e){return C("div",{class:"q-editor__toolbar-group"},e)}function yt(e,t,i,r=!1){const u=r||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),c=[];if(t.tip&&e.$q.platform.is.desktop){const n=t.key?C("div",[C("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;c.push(C(No,{delay:1e3},()=>[C("div",{innerHTML:t.tip}),n]))}return C(H,_($({},e.buttonProps.value),{icon:t.icon!==null?t.icon:void 0,color:u?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:u&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(n){i&&i(),gt(n,t,e)}}),()=>c)}function Fo(e,t){const i=t.list==="only-icons";let r=t.label,u=t.icon!==null?t.icon:void 0,c,n;function o(){l.component.proxy.hide()}if(i)n=t.options.map(s=>{const f=s.type===void 0?e.caret.is(s.cmd,s.param):!1;return f&&(r=s.tip,u=s.icon!==null?s.icon:void 0),yt(e,s,o,f)}),c=e.toolbarBackgroundClass.value,n=[De(n)];else{const s=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,f=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,d=t.list==="no-icons";n=t.options.map(h=>{const p=h.disable?h.disable(e):!1,g=h.type===void 0?e.caret.is(h.cmd,h.param):!1;g&&(r=h.tip,u=h.icon!==null?h.icon:void 0);const y=h.htmlTip;return C(Me,{active:g,activeClass:s,clickable:!0,disable:p,dense:!0,onClick(k){o(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),gt(k,h,e)}},()=>[d===!0?null:C(Te,{class:g?s:f,side:!0},()=>C(he,{name:h.icon!==null?h.icon:void 0})),C(Te,y?()=>C("div",{class:"text-no-wrap",innerHTML:h.htmlTip}):h.tip?()=>C("div",{class:"text-no-wrap"},h.tip):void 0)])}),c=[e.toolbarBackgroundClass.value,f]}const a=t.highlight&&r!==t.label,l=C(Co,_($({},e.buttonProps.value),{noCaps:!0,noWrap:!0,color:a?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:a&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:r,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:u,contentClass:c}),()=>n);return l}function Lo(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(i=>i.cmd==="viewsource")).map(t=>De(t.map(i=>e.isViewingSource.value&&i.cmd!=="viewsource"?!1:i.type==="slot"?Ze(e.slots[i.slot]):i.type==="dropdown"?Fo(e,i):yt(e,i))))}function xo(e,t,i,r={}){const u=Object.keys(r);if(u.length===0)return{};const c={default_font:{cmd:"fontName",param:e,icon:i,tip:t}};return u.forEach(n=>{const o=r[n];c[n]={cmd:"fontName",param:o,icon:i,tip:o,htmlTip:`<font face="${o}">${o}</font>`}}),c}function Do(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let i=e.editLinkUrl.value;const r=()=>{e.caret.restore(),i!==e.editLinkUrl.value&&document.execCommand("createLink",!1,i===""?" ":i),e.editLinkUrl.value=null};return[C("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),C("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:i,onInput:u=>{Vt(u),i=u.target.value},onKeydown:u=>{if(et(u)!==!0)switch(u.keyCode){case 13:return Re(u),r();case 27:Re(u),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),De([C(H,_($({key:"qedt_btm_rem",tabindex:-1},e.buttonProps.value),{label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}})),C(H,_($({key:"qedt_btm_upd"},e.buttonProps.value),{label:e.$q.lang.label.update,noCaps:!0,onClick:r}))])]}}let ve=0;const Ao={fullscreen:Boolean,noRouteFullscreenExit:Boolean},qo=["update:fullscreen","fullscreen"];function _o(){const e=ge(),{props:t,emit:i,proxy:r}=e;let u,c,n;const o=M(!1);jt(e)===!0&&ue(()=>r.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&s()}),ue(()=>t.fullscreen,f=>{o.value!==f&&a()}),ue(o,f=>{i("update:fullscreen",f),i("fullscreen",f)});function a(){o.value===!0?s():l()}function l(){o.value!==!0&&(o.value=!0,n=r.$el.parentNode,n.replaceChild(c,r.$el),document.body.appendChild(r.$el),ve++,ve===1&&document.body.classList.add("q-body--fullscreen-mixin"),u={handler:s},He.add(u))}function s(){o.value===!0&&(u!==void 0&&(He.remove(u),u=void 0),n.replaceChild(r.$el,c),o.value=!1,ve=Math.max(0,ve-1),ve===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),r.$el.scrollIntoView!==void 0&&setTimeout(()=>{r.$el.scrollIntoView()})))}return Kt(()=>{c=document.createElement("span")}),Fe(()=>{t.fullscreen===!0&&l()}),ke(s),Object.assign(r,{toggleFullscreen:a,setFullscreen:l,exitFullscreen:s}),{inFullscreen:o,toggleFullscreen:a}}var Bo=pe({name:"QEditor",props:_($($({},tt),Ao),{modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean}),emits:[...qo,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur"],setup(e,{slots:t,emit:i,attrs:r}){const{proxy:u,vnode:c}=ge(),{$q:n}=u,o=ot(e,n),{inFullscreen:a,toggleFullscreen:l}=_o(),s=Wt(r,c),f=M(null),d=M(null),h=M(null),p=M(!1),g=T(()=>!e.readonly&&!e.disable);let y,k,E=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),y=window.getComputedStyle(document.body).fontFamily;const F=T(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),R=T(()=>{const v=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:v,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!g.value,size:"sm"}}),x=T(()=>{const v=n.lang.editor,m=n.iconSet.editor;return{bold:{cmd:"bold",icon:m.bold,tip:v.bold,key:66},italic:{cmd:"italic",icon:m.italic,tip:v.italic,key:73},strike:{cmd:"strikeThrough",icon:m.strikethrough,tip:v.strikethrough,key:83},underline:{cmd:"underline",icon:m.underline,tip:v.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:m.unorderedList,tip:v.unorderedList},ordered:{cmd:"insertOrderedList",icon:m.orderedList,tip:v.orderedList},subscript:{cmd:"subscript",icon:m.subscript,tip:v.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:m.superscript,tip:v.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:P=>P.caret&&!P.caret.can("link"),icon:m.hyperlink,tip:v.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:m.toggleFullscreen,tip:v.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:m.viewSource,tip:v.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:m.quote,tip:v.quote,key:81},left:{cmd:"justifyLeft",icon:m.left,tip:v.left},center:{cmd:"justifyCenter",icon:m.center,tip:v.center},right:{cmd:"justifyRight",icon:m.right,tip:v.right},justify:{cmd:"justifyFull",icon:m.justify,tip:v.justify},print:{type:"no-state",cmd:"print",icon:m.print,tip:v.print,key:80},outdent:{type:"no-state",disable:P=>P.caret&&!P.caret.can("outdent"),cmd:"outdent",icon:m.outdent,tip:v.outdent},indent:{type:"no-state",disable:P=>P.caret&&!P.caret.can("indent"),cmd:"indent",icon:m.indent,tip:v.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:m.removeFormat,tip:v.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:m.hr,tip:v.hr},undo:{type:"no-state",cmd:"undo",icon:m.undo,tip:v.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:m.redo,tip:v.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:m.heading1||m.heading,tip:v.heading1,htmlTip:`<h1 class="q-ma-none">${v.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:m.heading2||m.heading,tip:v.heading2,htmlTip:`<h2 class="q-ma-none">${v.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:m.heading3||m.heading,tip:v.heading3,htmlTip:`<h3 class="q-ma-none">${v.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:m.heading4||m.heading,tip:v.heading4,htmlTip:`<h4 class="q-ma-none">${v.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:m.heading5||m.heading,tip:v.heading5,htmlTip:`<h5 class="q-ma-none">${v.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:m.heading6||m.heading,tip:v.heading6,htmlTip:`<h6 class="q-ma-none">${v.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:m.heading,tip:v.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:m.code,htmlTip:`<code>${v.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:m.size1||m.size,tip:v.size1,htmlTip:`<font size="1">${v.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:m.size2||m.size,tip:v.size2,htmlTip:`<font size="2">${v.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:m.size3||m.size,tip:v.size3,htmlTip:`<font size="3">${v.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:m.size4||m.size,tip:v.size4,htmlTip:`<font size="4">${v.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:m.size5||m.size,tip:v.size5,htmlTip:`<font size="5">${v.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:m.size6||m.size,tip:v.size6,htmlTip:`<font size="6">${v.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:m.size7||m.size,tip:v.size7,htmlTip:`<font size="7">${v.size7}</font>`}}}),N=T(()=>{const v=e.definitions||{},m=e.definitions||e.fonts?Gt(!0,{},x.value,v,xo(y,n.lang.editor.defaultFont,n.iconSet.editor.font,e.fonts)):x.value;return e.toolbar.map(P=>P.map(A=>{if(A.options)return{type:"dropdown",icon:A.icon,label:A.label,size:"sm",dense:!0,fixedLabel:A.fixedLabel,fixedIcon:A.fixedIcon,highlight:A.highlight,list:A.list,options:A.options.map(kt=>m[kt])};const ee=m[A];return ee?ee.type==="no-state"||v[A]&&(ee.cmd===void 0||x.value[ee.cmd]&&x.value[ee.cmd].type==="no-state")?ee:Object.assign({type:"toggle"},ee):{type:"slot",slot:A}}))}),z={$q:n,props:e,slots:t,inFullscreen:a,toggleFullscreen:l,runCmd:L,isViewingSource:p,editLinkUrl:h,toolbarBackgroundClass:F,buttonProps:R,contentRef:d,buttons:N,setContent:fe};ue(()=>e.modelValue,v=>{E!==v&&(E=v,fe(v,!0))});const B=T(()=>e.toolbar&&e.toolbar.length>0),U=T(()=>{const v={},m=P=>{P.key&&(v[P.key]={cmd:P.cmd,param:P.param})};return N.value.forEach(P=>{P.forEach(A=>{A.options?A.options.forEach(m):m(A)})}),v}),Z=T(()=>a.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),W=T(()=>`q-editor q-editor--${p.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(a.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(o.value===!0?" q-editor--dark q-dark":"")),G=T(()=>[e.contentClass,"q-editor__content",{col:a.value,"overflow-auto":a.value||e.maxHeight}]),V=T(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});function Y(){if(d.value!==null){const v=`inner${p.value===!0?"Text":"HTML"}`,m=d.value[v];m!==e.modelValue&&(E=m,i("update:modelValue",m))}}function oe(v){if(i("keydown",v),v.ctrlKey!==!0||et(v)===!0){Q();return}const m=v.keyCode,P=U.value[m];if(P!==void 0){const{cmd:A,param:ee}=P;Ne(v),L(A,ee,!1)}}function re(v){Q(),i("click",v)}function w(v){if(d.value!==null){const{scrollTop:m,scrollHeight:P}=d.value;k=P-m}z.caret.save(),i("blur",v)}function D(v){Yt(()=>{d.value!==null&&k!==void 0&&(d.value.scrollTop=d.value.scrollHeight-k)}),i("focus",v)}function I(v){const m=f.value;if(m!==null&&m.contains(v.target)===!0&&(v.relatedTarget===null||m.contains(v.relatedTarget)!==!0)){const P=`inner${p.value===!0?"Text":"HTML"}`;z.caret.restorePosition(d.value[P].length),Q()}}function ne(v){const m=f.value;m!==null&&m.contains(v.target)===!0&&(v.relatedTarget===null||m.contains(v.relatedTarget)!==!0)&&(z.caret.savePosition(),Q())}function ae(){k=void 0}function ye(v){z.caret.save()}function fe(v,m){if(d.value!==null){m===!0&&z.caret.savePosition();const P=`inner${p.value===!0?"Text":"HTML"}`;d.value[P]=v,m===!0&&(z.caret.restorePosition(d.value[P].length),Q())}}function L(v,m,P=!0){j(),z.caret.restore(),z.caret.apply(v,m,()=>{j(),z.caret.save(),P&&Q()})}function Q(){setTimeout(()=>{h.value=null,u.$forceUpdate()},1)}function j(){Xt(()=>{d.value!==null&&d.value.focus({preventScroll:!0})})}function be(){return d.value}return Fe(()=>{z.caret=u.caret=new Mo(d.value,z),fe(e.modelValue),Q(),document.addEventListener("selectionchange",ye)}),ke(()=>{document.removeEventListener("selectionchange",ye)}),Object.assign(u,{runCmd:L,refreshToolbar:Q,focus:j,getContentEl:be}),()=>{let v;if(B.value){const m=[C("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+F.value},Lo(z))];h.value!==null&&m.push(C("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+F.value},Do(z))),v=C("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},m)}return C("div",_($({ref:f,class:W.value,style:{height:a.value===!0?"100%":null}},V.value),{onFocusin:I,onFocusout:ne}),[v,C("div",_($({ref:d,style:Z.value,class:G.value,contenteditable:g.value,placeholder:e.placeholder},s.listeners.value),{onInput:Y,onKeydown:oe,onClick:re,onBlur:w,onFocus:D,onMousedown:ae,onTouchstartPassive:ae}))])}}});const bt=te({__name:"RichTextEditor",props:{text:{type:String,required:!0},readonly:{type:Boolean,required:!1,default:!1}},emits:["update:text"],setup(e,{emit:t}){const i=M(),r=n=>{if(!!n){for(let o=0;o<n.items.length;o++)if(n.items[o].type==="text/plain")i.value.runCmd("insertText",n.getData("text/plain"));else if(n.items[o].type.startsWith("image/")){const a=n.items[o].getAsFile();if(a){const l=new FileReader;l.readAsDataURL(a),l.onloadend=()=>{const s=l.result;i.value.runCmd("insertImage",s)}}}}},u=n=>{n.preventDefault(),n.stopPropagation(),r(n.clipboardData)},c=n=>{n.preventDefault(),n.stopPropagation(),r(n.dataTransfer)};return(n,o)=>(O(),K(Bo,{ref_key:"editorRef",ref:i,readonly:e.readonly,"model-value":e.text,"onUpdate:modelValue":o[0]||(o[0]=a=>t("update:text",a)),class:"tw-w-full",dense:n.$q.screen.lt.md,placeholder:`${n.$t("forms.placeholders.richText")} *`,onPaste:o[1]||(o[1]=a=>u(a)),onDrop:o[2]||(o[2]=a=>c(a)),toolbar:[[{label:n.$q.lang.editor.align,icon:n.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:n.$q.lang.editor.formatting,icon:n.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:n.$q.lang.editor.fontSize,icon:n.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:n.$q.lang.editor.defaultFont,icon:n.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["readonly","model-value","dense","placeholder","toolbar"]))}}),Io={key:0,class:"text-h4"},Oo=te({__name:"ReceiveSuccessDialog",props:{isShow:{type:Boolean},receiveData:{},receiveText:{}},emits:["update:is-show"],setup(e,{emit:t}){const i=e,r=T(()=>{var n,o;return new Date((n=i.receiveData)==null?void 0:n.expireAt).toLocaleString((o=localStorage.language)!=null?o:So)}),u=M(!1),c=async n=>{u.value=!0;try{const o=await zo(n);le.create({message:o.message,position:"top",type:"positive"}),t("update:is-show",!1)}finally{u.value=!1}};return(n,o)=>(O(),K(nt,{"model-value":n.isShow,persistent:""},{default:S(()=>[b(xe,{flat:"",bordered:""},{default:S(()=>[b(me,null,{default:S(()=>[n.receiveText?(O(),K(bt,{key:1,text:n.receiveText,readonly:!0},null,8,["text"])):(O(),Le("div",Io,J(n.$t("dialogs.fileDownloadStartingMessage"))+"... ",1))]),_:1}),b(me,null,{default:S(()=>[b(wo,{bordered:"",separator:""},{default:S(()=>[Ve((O(),K(Me,{clickable:""},{default:S(()=>[b(Te,null,{default:S(()=>[b(Ce,{overline:""},{default:S(()=>[X("\u8FC7\u671F\u65F6\u95F4")]),_:1}),b(Ce,null,{default:S(()=>[X(J(r.value),1)]),_:1})]),_:1})]),_:1})),[[ze]]),Ve((O(),K(Me,{clickable:""},{default:S(()=>[b(Te,null,{default:S(()=>[b(Ce,{overline:""},{default:S(()=>[X("\u5269\u4F59\u4E0B\u8F7D\u6B21\u6570")]),_:1}),b(Ce,null,{default:S(()=>[X(J(n.receiveData.downloadTimes===0?"\u221E":n.receiveData.downloadTimes-1),1)]),_:1})]),_:1})]),_:1})),[[ze]])]),_:1})]),_:1}),b(at),b(lt,null,{default:S(()=>[b(H,{onClick:o[0]||(o[0]=a=>t("update:is-show",!1)),flat:"",color:"primary"},{default:S(()=>[X(J(n.$t("buttons.ok")),1)]),_:1}),n.receiveData.downloadTimes!==1?(O(),K(H,{key:0,onClick:o[1]||(o[1]=a=>c(n.receiveData.id)),loading:u.value,flat:"",color:"negative"},{default:S(()=>[X(J(n.$t("buttons.destroy")),1)]),_:1},8,["loading"])):it("",!0)]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),Uo=te({__name:"ReceiveForm",setup(e){const t=M(!1),i={receiveCode:""},r=M(_($({},i),{receiveCode:(()=>{var f;const l=new URL(window.location.href);return(f=new URLSearchParams(l.search).get("receive_code"))!=null?f:""})()})),u=M(!1),c=M(null),n=M(""),o=async()=>{t.value=!0;try{const{data:l,callback:s}=await Ro(r.value.receiveCode);le.create({message:l.message,position:"top",type:"positive"}),c.value=l.result,n.value=s(),u.value=!0}finally{t.value=!1}},a=()=>{r.value=$({},i)};return(l,s)=>(O(),Le(rt,null,[b(Oo,{"is-show":u.value,"onUpdate:isShow":s[0]||(s[0]=f=>u.value=f),"receive-data":c.value,"receive-text":n.value},null,8,["is-show","receive-data","receive-text"]),b(ht,{onSubmit:o,onReset:a,class:"q-gutter-md"},{default:S(()=>[b($e,{filled:"",modelValue:r.value.receiveCode,"onUpdate:modelValue":s[1]||(s[1]=f=>r.value.receiveCode=f),label:`${l.$t("forms.labels.receiveCode")} *`,"lazy-rules":"",rules:[f=>f.length>0||l.$t("forms.rules.notEmpty",{label:l.$t("forms.labels.receiveCode")})]},null,8,["modelValue","label","rules"]),b(H,{loading:t.value,label:l.$t("buttons.submit"),type:"submit",color:"primary"},null,8,["loading","label"]),b(H,{label:l.$t("buttons.reset"),type:"reset"},null,8,["label"])]),_:1})],64))}});var Qo=pe({name:"QField",inheritAttrs:!1,props:st,emits:ut,setup(){return ct(dt())}});const Ho={xs:8,sm:10,md:14,lg:20,xl:24};var Vo=pe({name:"QChip",props:_($($({},tt),Jt),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:i}){const{proxy:{$q:r}}=ge(),u=ot(e,r),c=Zt(e,Ho),n=T(()=>e.selected===!0||e.icon!==void 0),o=T(()=>e.selected===!0?e.iconSelected||r.iconSet.chip.selected:e.icon),a=T(()=>e.iconRemove||r.iconSet.chip.remove),l=T(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=T(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(l.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(u.value===!0?" q-chip--dark q-dark":"")}),f=T(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function d(y){y.keyCode===13&&h(y)}function h(y){e.disable||(i("update:selected",!e.selected),i("click",y))}function p(y){(y.keyCode===void 0||y.keyCode===13)&&(Ne(y),e.disable===!1&&(i("update:modelValue",!1),i("remove")))}function g(){const y=[];l.value===!0&&y.push(C("div",{class:"q-focus-helper"})),n.value===!0&&y.push(C(he,{class:"q-chip__icon q-chip__icon--left",name:o.value}));const k=e.label!==void 0?[C("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(C("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},to(t.default,k))),e.iconRight&&y.push(C(he,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(C(he,_($({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:a.value},f.value),{onClick:p,onKeyup:p}))),y}return()=>{if(e.modelValue===!1)return;const y={class:s.value,style:c.value};return l.value===!0&&Object.assign(y,f.value,{onClick:h,onKeyup:d}),eo("div",y,g(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ze,e.ripple]])}}}),jo=pe({name:"QFile",inheritAttrs:!1,props:_($($($({},st),oo),no),{modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]}),emits:[...ut,...ao],setup(e,{slots:t,emit:i,attrs:r}){const{proxy:u}=ge(),c=dt(),n=M(null),o=M(!1),a=lo(e),{pickFiles:l,onDragover:s,onDragleave:f,processFiles:d,getDndNode:h}=io({editable:c.editable,dnd:o,getFileInput:G,addFilesToQueue:V}),p=ro(e),g=T(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),y=T(()=>je(g.value)),k=T(()=>g.value.map(w=>w.name).join(", ")),E=T(()=>so(g.value.reduce((w,D)=>w+D.size,0))),F=T(()=>({totalSize:E.value,filesNumber:g.value.length,maxFiles:e.maxFiles})),R=T(()=>_($({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:a.value},r),{id:c.targetUid.value,disabled:c.editable.value!==!0})),x=T(()=>"q-file q-field--auto-height"+(o.value===!0?" q-file--dnd":"")),N=T(()=>e.multiple===!0&&e.append===!0);function z(w){const D=g.value.slice();D.splice(w,1),U(D)}function B(w){const D=g.value.findIndex(w);D>-1&&z(D)}function U(w){i("update:modelValue",e.multiple===!0?w:w[0])}function Z(w){w.keyCode===13&&Re(w)}function W(w){(w.keyCode===13||w.keyCode===32)&&l(w)}function G(){return n.value}function V(w,D){const I=d(w,D,g.value,N.value),ne=G();ne!=null&&(ne.value=""),I!==void 0&&((e.multiple===!0?e.modelValue&&I.every(ae=>g.value.includes(ae)):e.modelValue===I[0])||U(N.value===!0?g.value.concat(I):I))}function Y(){return[C("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function oe(){if(t.file!==void 0)return g.value.length===0?Y():g.value.map((D,I)=>t.file({index:I,file:D,ref:this}));if(t.selected!==void 0)return g.value.length===0?Y():t.selected({files:g.value,ref:this});if(e.useChips===!0)return g.value.length===0?Y():g.value.map((D,I)=>C(Vo,{key:"file-"+I,removable:c.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{z(I)}},()=>C("span",{class:"ellipsis",textContent:D.name})));const w=e.displayValue!==void 0?e.displayValue:k.value;return w.length>0?[C("div",{class:e.inputClass,style:e.inputStyle,textContent:w})]:Y()}function re(){const w=_($($({ref:n},R.value),p.value),{class:"q-field__input fit absolute-full cursor-pointer",onChange:V});return e.multiple===!0&&(w.multiple=!0),C("input",w)}return Object.assign(c,{fieldClass:x,emitValue:U,hasValue:y,inputRef:n,innerValue:g,floatingLabel:T(()=>y.value===!0||je(e.displayValue)),computedCounter:T(()=>{if(e.counterLabel!==void 0)return e.counterLabel(F.value);const w=e.maxFiles;return`${g.value.length}${w!==void 0?" / "+w:""} (${E.value})`}),getControlChild:()=>h("file"),getControl:()=>{const w={ref:c.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return c.editable.value===!0&&Object.assign(w,{onDragover:s,onDragleave:f,onKeydown:Z,onKeyup:W}),C("div",w,[re()].concat(oe()))}}),Object.assign(u,{removeAtIndex:z,removeFile:B,getNativeElement:()=>n.value}),ct(c)}});/*!
 * qrcode.vue v3.4.0
 * A Vue.js component to generate QRCode.
 * © 2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var Ee=function(){return Ee=Object.assign||function(t){for(var i,r=1,u=arguments.length;r<u;r++){i=arguments[r];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},Ee.apply(this,arguments)},ie;(function(e){var t=function(){function n(o,a,l,s){if(this.version=o,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],o<n.MIN_VERSION||o>n.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=o*4+17;for(var f=[],d=0;d<this.size;d++)f.push(!1);for(var d=0;d<this.size;d++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(l);if(this.drawCodewords(h),s==-1)for(var p=1e9,d=0;d<8;d++){this.applyMask(d),this.drawFormatBits(d);var g=this.getPenaltyScore();g<p&&(s=d,p=g),this.applyMask(d)}u(0<=s&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}return n.encodeText=function(o,a){var l=e.QrSegment.makeSegments(o);return n.encodeSegments(l,a)},n.encodeBinary=function(o,a){var l=e.QrSegment.makeBytes(o);return n.encodeSegments([l],a)},n.encodeSegments=function(o,a,l,s,f,d){if(l===void 0&&(l=1),s===void 0&&(s=40),f===void 0&&(f=-1),d===void 0&&(d=!0),!(n.MIN_VERSION<=l&&l<=s&&s<=n.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");var h,p;for(h=l;;h++){var g=n.getNumDataCodewords(h,a)*8,y=c.getTotalBits(o,h);if(y<=g){p=y;break}if(h>=s)throw new RangeError("Data too long")}for(var k=0,E=[n.Ecc.MEDIUM,n.Ecc.QUARTILE,n.Ecc.HIGH];k<E.length;k++){var F=E[k];d&&p<=n.getNumDataCodewords(h,F)*8&&(a=F)}for(var R=[],x=0,N=o;x<N.length;x++){var z=N[x];i(z.mode.modeBits,4,R),i(z.numChars,z.mode.numCharCountBits(h),R);for(var B=0,U=z.getData();B<U.length;B++){var Z=U[B];R.push(Z)}}u(R.length==p);var W=n.getNumDataCodewords(h,a)*8;u(R.length<=W),i(0,Math.min(4,W-R.length),R),i(0,(8-R.length%8)%8,R),u(R.length%8==0);for(var G=236;R.length<W;G^=253)i(G,8,R);for(var V=[];V.length*8<R.length;)V.push(0);return R.forEach(function(Y,oe){return V[oe>>>3]|=Y<<7-(oe&7)}),new n(h,a,V,f)},n.prototype.getModule=function(o,a){return 0<=o&&o<this.size&&0<=a&&a<this.size&&this.modules[a][o]},n.prototype.getModules=function(){return this.modules},n.prototype.drawFunctionPatterns=function(){for(var o=0;o<this.size;o++)this.setFunctionModule(6,o,o%2==0),this.setFunctionModule(o,6,o%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var a=this.getAlignmentPatternPositions(),l=a.length,o=0;o<l;o++)for(var s=0;s<l;s++)o==0&&s==0||o==0&&s==l-1||o==l-1&&s==0||this.drawAlignmentPattern(a[o],a[s]);this.drawFormatBits(0),this.drawVersion()},n.prototype.drawFormatBits=function(o){for(var a=this.errorCorrectionLevel.formatBits<<3|o,l=a,s=0;s<10;s++)l=l<<1^(l>>>9)*1335;var f=(a<<10|l)^21522;u(f>>>15==0);for(var s=0;s<=5;s++)this.setFunctionModule(8,s,r(f,s));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(var s=9;s<15;s++)this.setFunctionModule(14-s,8,r(f,s));for(var s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,r(f,s));for(var s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,r(f,s));this.setFunctionModule(8,this.size-8,!0)},n.prototype.drawVersion=function(){if(!(this.version<7)){for(var o=this.version,a=0;a<12;a++)o=o<<1^(o>>>11)*7973;var l=this.version<<12|o;u(l>>>18==0);for(var a=0;a<18;a++){var s=r(l,a),f=this.size-11+a%3,d=Math.floor(a/3);this.setFunctionModule(f,d,s),this.setFunctionModule(d,f,s)}}},n.prototype.drawFinderPattern=function(o,a){for(var l=-4;l<=4;l++)for(var s=-4;s<=4;s++){var f=Math.max(Math.abs(s),Math.abs(l)),d=o+s,h=a+l;0<=d&&d<this.size&&0<=h&&h<this.size&&this.setFunctionModule(d,h,f!=2&&f!=4)}},n.prototype.drawAlignmentPattern=function(o,a){for(var l=-2;l<=2;l++)for(var s=-2;s<=2;s++)this.setFunctionModule(o+s,a+l,Math.max(Math.abs(s),Math.abs(l))!=1)},n.prototype.setFunctionModule=function(o,a,l){this.modules[a][o]=l,this.isFunction[a][o]=!0},n.prototype.addEccAndInterleave=function(o){var a=this.version,l=this.errorCorrectionLevel;if(o.length!=n.getNumDataCodewords(a,l))throw new RangeError("Invalid argument");for(var s=n.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a],f=n.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a],d=Math.floor(n.getNumRawDataModules(a)/8),h=s-d%s,p=Math.floor(d/s),g=[],y=n.reedSolomonComputeDivisor(f),k=0,E=0;k<s;k++){var F=o.slice(E,E+p-f+(k<h?0:1));E+=F.length;var R=n.reedSolomonComputeRemainder(F,y);k<h&&F.push(0),g.push(F.concat(R))}for(var x=[],N=function(z){g.forEach(function(B,U){(z!=p-f||U>=h)&&x.push(B[z])})},k=0;k<g[0].length;k++)N(k);return u(x.length==d),x},n.prototype.drawCodewords=function(o){if(o.length!=Math.floor(n.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var a=0,l=this.size-1;l>=1;l-=2){l==6&&(l=5);for(var s=0;s<this.size;s++)for(var f=0;f<2;f++){var d=l-f,h=(l+1&2)==0,p=h?this.size-1-s:s;!this.isFunction[p][d]&&a<o.length*8&&(this.modules[p][d]=r(o[a>>>3],7-(a&7)),a++)}}u(a==o.length*8)},n.prototype.applyMask=function(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(var a=0;a<this.size;a++)for(var l=0;l<this.size;l++){var s=void 0;switch(o){case 0:s=(l+a)%2==0;break;case 1:s=a%2==0;break;case 2:s=l%3==0;break;case 3:s=(l+a)%3==0;break;case 4:s=(Math.floor(l/3)+Math.floor(a/2))%2==0;break;case 5:s=l*a%2+l*a%3==0;break;case 6:s=(l*a%2+l*a%3)%2==0;break;case 7:s=((l+a)%2+l*a%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[a][l]&&s&&(this.modules[a][l]=!this.modules[a][l])}},n.prototype.getPenaltyScore=function(){for(var o=0,a=0;a<this.size;a++){for(var l=!1,s=0,f=[0,0,0,0,0,0,0],d=0;d<this.size;d++)this.modules[a][d]==l?(s++,s==5?o+=n.PENALTY_N1:s>5&&o++):(this.finderPenaltyAddHistory(s,f),l||(o+=this.finderPenaltyCountPatterns(f)*n.PENALTY_N3),l=this.modules[a][d],s=1);o+=this.finderPenaltyTerminateAndCount(l,s,f)*n.PENALTY_N3}for(var d=0;d<this.size;d++){for(var l=!1,h=0,f=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[a][d]==l?(h++,h==5?o+=n.PENALTY_N1:h>5&&o++):(this.finderPenaltyAddHistory(h,f),l||(o+=this.finderPenaltyCountPatterns(f)*n.PENALTY_N3),l=this.modules[a][d],h=1);o+=this.finderPenaltyTerminateAndCount(l,h,f)*n.PENALTY_N3}for(var a=0;a<this.size-1;a++)for(var d=0;d<this.size-1;d++){var p=this.modules[a][d];p==this.modules[a][d+1]&&p==this.modules[a+1][d]&&p==this.modules[a+1][d+1]&&(o+=n.PENALTY_N2)}for(var g=0,y=0,k=this.modules;y<k.length;y++){var E=k[y];g=E.reduce(function(x,N){return x+(N?1:0)},g)}var F=this.size*this.size,R=Math.ceil(Math.abs(g*20-F*10)/F)-1;return u(0<=R&&R<=9),o+=R*n.PENALTY_N4,u(0<=o&&o<=2568888),o},n.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var o=Math.floor(this.version/7)+2,a=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2,l=[6],s=this.size-7;l.length<o;s-=a)l.splice(1,0,s);return l},n.getNumRawDataModules=function(o){if(o<n.MIN_VERSION||o>n.MAX_VERSION)throw new RangeError("Version number out of range");var a=(16*o+128)*o+64;if(o>=2){var l=Math.floor(o/7)+2;a-=(25*l-10)*l-55,o>=7&&(a-=36)}return u(208<=a&&a<=29648),a},n.getNumDataCodewords=function(o,a){return Math.floor(n.getNumRawDataModules(o)/8)-n.ECC_CODEWORDS_PER_BLOCK[a.ordinal][o]*n.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][o]},n.reedSolomonComputeDivisor=function(o){if(o<1||o>255)throw new RangeError("Degree out of range");for(var a=[],l=0;l<o-1;l++)a.push(0);a.push(1);for(var s=1,l=0;l<o;l++){for(var f=0;f<a.length;f++)a[f]=n.reedSolomonMultiply(a[f],s),f+1<a.length&&(a[f]^=a[f+1]);s=n.reedSolomonMultiply(s,2)}return a},n.reedSolomonComputeRemainder=function(o,a){for(var l=a.map(function(p){return 0}),s=function(p){var g=p^l.shift();l.push(0),a.forEach(function(y,k){return l[k]^=n.reedSolomonMultiply(y,g)})},f=0,d=o;f<d.length;f++){var h=d[f];s(h)}return l},n.reedSolomonMultiply=function(o,a){if(o>>>8!=0||a>>>8!=0)throw new RangeError("Byte out of range");for(var l=0,s=7;s>=0;s--)l=l<<1^(l>>>7)*285,l^=(a>>>s&1)*o;return u(l>>>8==0),l},n.prototype.finderPenaltyCountPatterns=function(o){var a=o[1];u(a<=this.size*3);var l=a>0&&o[2]==a&&o[3]==a*3&&o[4]==a&&o[5]==a;return(l&&o[0]>=a*4&&o[6]>=a?1:0)+(l&&o[6]>=a*4&&o[0]>=a?1:0)},n.prototype.finderPenaltyTerminateAndCount=function(o,a,l){return o&&(this.finderPenaltyAddHistory(a,l),a=0),a+=this.size,this.finderPenaltyAddHistory(a,l),this.finderPenaltyCountPatterns(l)},n.prototype.finderPenaltyAddHistory=function(o,a){a[0]==0&&(o+=this.size),a.pop(),a.unshift(o)},n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n}();e.QrCode=t;function i(n,o,a){if(o<0||o>31||n>>>o!=0)throw new RangeError("Value out of range");for(var l=o-1;l>=0;l--)a.push(n>>>l&1)}function r(n,o){return(n>>>o&1)!=0}function u(n){if(!n)throw new Error("Assertion error")}var c=function(){function n(o,a,l){if(this.mode=o,this.numChars=a,this.bitData=l,a<0)throw new RangeError("Invalid argument");this.bitData=l.slice()}return n.makeBytes=function(o){for(var a=[],l=0,s=o;l<s.length;l++){var f=s[l];i(f,8,a)}return new n(n.Mode.BYTE,o.length,a)},n.makeNumeric=function(o){if(!n.isNumeric(o))throw new RangeError("String contains non-numeric characters");for(var a=[],l=0;l<o.length;){var s=Math.min(o.length-l,3);i(parseInt(o.substring(l,l+s),10),s*3+1,a),l+=s}return new n(n.Mode.NUMERIC,o.length,a)},n.makeAlphanumeric=function(o){if(!n.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");var a=[],l;for(l=0;l+2<=o.length;l+=2){var s=n.ALPHANUMERIC_CHARSET.indexOf(o.charAt(l))*45;s+=n.ALPHANUMERIC_CHARSET.indexOf(o.charAt(l+1)),i(s,11,a)}return l<o.length&&i(n.ALPHANUMERIC_CHARSET.indexOf(o.charAt(l)),6,a),new n(n.Mode.ALPHANUMERIC,o.length,a)},n.makeSegments=function(o){return o==""?[]:n.isNumeric(o)?[n.makeNumeric(o)]:n.isAlphanumeric(o)?[n.makeAlphanumeric(o)]:[n.makeBytes(n.toUtf8ByteArray(o))]},n.makeEci=function(o){var a=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<1<<7)i(o,8,a);else if(o<1<<14)i(2,2,a),i(o,14,a);else if(o<1e6)i(6,3,a),i(o,21,a);else throw new RangeError("ECI assignment value out of range");return new n(n.Mode.ECI,0,a)},n.isNumeric=function(o){return n.NUMERIC_REGEX.test(o)},n.isAlphanumeric=function(o){return n.ALPHANUMERIC_REGEX.test(o)},n.prototype.getData=function(){return this.bitData.slice()},n.getTotalBits=function(o,a){for(var l=0,s=0,f=o;s<f.length;s++){var d=f[s],h=d.mode.numCharCountBits(a);if(d.numChars>=1<<h)return 1/0;l+=4+h+d.bitData.length}return l},n.toUtf8ByteArray=function(o){o=encodeURI(o);for(var a=[],l=0;l<o.length;l++)o.charAt(l)!="%"?a.push(o.charCodeAt(l)):(a.push(parseInt(o.substring(l+1,l+3),16)),l+=2);return a},n.NUMERIC_REGEX=/^[0-9]*$/,n.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,n.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n}();e.QrSegment=c})(ie||(ie={}));(function(e){(function(t){var i=function(){function r(u,c){this.ordinal=u,this.formatBits=c}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();t.Ecc=i})(e.QrCode||(e.QrCode={}))})(ie||(ie={}));(function(e){(function(t){var i=function(){function r(u,c){this.modeBits=u,this.numBitsCharCount=c}return r.prototype.numCharCountBits=function(u){return this.numBitsCharCount[Math.floor((u+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();t.Mode=i})(e.QrSegment||(e.QrSegment={}))})(ie||(ie={}));var se=ie,Ct="H",Ae={L:se.QrCode.Ecc.LOW,M:se.QrCode.Ecc.MEDIUM,Q:se.QrCode.Ecc.QUARTILE,H:se.QrCode.Ecc.HIGH},Ko=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function wt(e){return e in Ae}function St(e,t){t===void 0&&(t=0);var i=[];return e.forEach(function(r,u){var c=null;r.forEach(function(n,o){if(!n&&c!==null){i.push("M".concat(c+t," ").concat(u+t,"h").concat(o-c,"v1H").concat(c+t,"z")),c=null;return}if(o===r.length-1){if(!n)return;c===null?i.push("M".concat(o+t,",").concat(u+t," h1v1H").concat(o+t,"z")):i.push("M".concat(c+t,",").concat(u+t," h").concat(o+1-c,"v1H").concat(c+t,"z"));return}n&&c===null&&(c=o)})}),i.join("")}var qe={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Ct,validator:function(e){return wt(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},Wo=Ee(Ee({},qe),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),Go=te({name:"QRCodeSvg",props:qe,setup:function(e){var t=M(0),i=M(""),r=function(){var u=e.value,c=e.level,n=e.margin,o=se.QrCode.encodeText(u,Ae[c]).getModules();t.value=o.length+n*2,i.value=St(o,n)};return r(),ft(r),function(){return C("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[C("path",{fill:e.background,d:"M0,0 h".concat(t.value,"v").concat(t.value,"H0z")}),C("path",{fill:e.foreground,d:i.value})])}}}),Yo=te({name:"QRCodeCanvas",props:qe,setup:function(e){var t=M(null),i=function(){var r=e.value,u=e.level,c=e.size,n=e.margin,o=e.background,a=e.foreground,l=t.value;if(!!l){var s=l.getContext("2d");if(!!s){var f=se.QrCode.encodeText(r,Ae[u]).getModules(),d=f.length+n*2,h=window.devicePixelRatio||1,p=c/d*h;l.height=l.width=c*h,s.scale(p,p),s.fillStyle=o,s.fillRect(0,0,d,d),s.fillStyle=a,Ko?s.fill(new Path2D(St(f,n))):f.forEach(function(g,y){g.forEach(function(k,E){k&&s.fillRect(E+n,y+n,1,1)})})}}};return Fe(i),ft(i),function(){return C("canvas",{ref:t,style:{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")}})}}}),Xo=te({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,i=e.value,r=e.size,u=e.margin,c=e.level,n=e.background,o=e.foreground,a=r>>>0,l=u>>>0,s=wt(c)?c:Ct;return C(t==="svg"?Go:Yo,{value:i,size:a,margin:l,level:s,background:n,foreground:o})},props:Wo});const Jo={class:"text-overline"},Zo={class:"text-h5 q-mt-sm q-mb-xs"},en={class:"text-caption text-grey"},tn=te({__name:"UploadSuccessDialog",props:{isShow:{type:Boolean,required:!0},receiveCode:{type:String,required:!0}},emits:["update:is-show"],setup(e,{emit:t}){const i=e,r=T(()=>`${location.origin}/?receive_code=${i.receiveCode}`),u=vt({useScope:"global"}),c=n=>{if(!navigator.clipboard){le.create({message:u.t("notify.copyNotSupported"),position:"top",type:"negative"});return}navigator.clipboard.writeText(n).then(()=>{le.create({message:u.t("notify.copySuccess"),position:"top",type:"positive"})}).catch(()=>{le.create({message:u.t("notify.copyFail"),position:"top",type:"negative"})})};return(n,o)=>(O(),K(nt,{"model-value":e.isShow,persistent:""},{default:S(()=>[b(xe,{flat:"",bordered:""},{default:S(()=>[b(me,{horizontal:""},{default:S(()=>[b(me,{class:"q-pt-xs"},{default:S(()=>[Se("div",Jo,J(n.$t("dialogs.receiveInfo")),1),Se("div",Zo,[X(J(e.receiveCode)+" ",1),b(H,{round:"",size:"md",flat:"",icon:"content_copy",onClick:o[0]||(o[0]=a=>c(e.receiveCode))})]),Se("div",en,[X(J(r.value)+" ",1),b(H,{round:"",size:"xs",flat:"",icon:"content_copy",onClick:o[1]||(o[1]=a=>c(r.value))})])]),_:1}),b(me,{class:"col-5 flex flex-center"},{default:S(()=>[b(Xo,{value:r.value},null,8,["value"])]),_:1})]),_:1}),b(at),b(lt,null,{default:S(()=>[b(H,{onClick:o[2]||(o[2]=a=>t("update:is-show",!1)),flat:"",color:"primary"},{default:S(()=>[X(J(n.$t("buttons.ok")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),on=(e,t)=>{const i=Math.max(Math.ceil(e.size/t),1),r=[];for(let u=0;u<i;u++){const c=u*t,n=Math.min(c+t,e.size),o=e.slice(c,n);r.push(o)}return r},nn=async(e,t,i,r)=>{const u=new FormData;u.append("chunk",r),u.append("index",String(t)),u.append("total",String(i)),await Eo(e,u)};let we;const an=new Uint8Array(16);function ln(){if(!we&&(we=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!we))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return we(an)}const q=[];for(let e=0;e<256;++e)q.push((e+256).toString(16).slice(1));function rn(e,t=0){return(q[e[t+0]]+q[e[t+1]]+q[e[t+2]]+q[e[t+3]]+"-"+q[e[t+4]]+q[e[t+5]]+"-"+q[e[t+6]]+q[e[t+7]]+"-"+q[e[t+8]]+q[e[t+9]]+"-"+q[e[t+10]]+q[e[t+11]]+q[e[t+12]]+q[e[t+13]]+q[e[t+14]]+q[e[t+15]]).toLowerCase()}const sn=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Je={randomUUID:sn};function un(e,t,i){if(Je.randomUUID&&!t&&!e)return Je.randomUUID();e=e||{};const r=e.random||(e.rng||ln)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){i=i||0;for(let u=0;u<16;++u)t[i+u]=r[u];return t}return rn(r)}const cn=Se("br",null,null,-1),dn=te({__name:"UploadForm",setup(e){const t=M(null);(async()=>{const d=await ko();t.value=d.result})();const r=M(!1),u={keepDays:1,isDownloadTimesLimited:!0,downloadTimes:1,type:"text",text:"",file:null},c=M($({},u)),n=M(!1),o=M(""),a=uo(),l=vt({useScope:"global"}),s=async()=>{if(c.value.type==="text"){r.value=!0;try{const E=await To({downloadTimes:c.value.isDownloadTimesLimited?c.value.downloadTimes:0,keepDays:c.value.keepDays,text:c.value.text});le.create({message:E.message,position:"top",type:"positive"}),o.value=E.result,n.value=!0}finally{r.value=!1}return}r.value=!0;const d=a.dialog({message:`${l.t("dialogs.uploading")}... 0%`,progress:!0,persistent:!0,ok:!1}),h=on(c.value.file,t.value.uploadChunkBytes),p=un(),g=[];for(let E=0;E<h.length;E++)g.push(nn(p,E,h.length,h[E]));let y=0;const k=new Promise((E,F)=>{for(const R of g)R.then(()=>{y++;const x=Math.floor(y/g.length*100);d.update({message:`${l.t("dialogs.uploading")}... ${x}%`}),y===g.length&&(d.hide(),E())}).catch(F)});try{await Promise.all([k]);const E=await Po(p,{downloadTimes:c.value.isDownloadTimesLimited?c.value.downloadTimes:0,keepDays:c.value.keepDays,filename:c.value.file.name});le.create({message:E.message,position:"top",type:"positive"}),o.value=E.result,n.value=!0}finally{r.value=!1}},f=()=>{c.value=$({},u)};return(d,h)=>(O(),Le(rt,null,[b(tn,{"is-show":n.value,"onUpdate:isShow":h[0]||(h[0]=p=>n.value=p),"receive-code":o.value},null,8,["is-show","receive-code"]),b(ht,{onSubmit:s,onReset:f,class:"q-gutter-md"},{default:S(()=>[b($e,{filled:"",type:"number",modelValue:c.value.keepDays,"onUpdate:modelValue":h[1]||(h[1]=p=>c.value.keepDays=p),modelModifiers:{number:!0},label:`${d.$t("forms.labels.keepDays")} *`,"lazy-rules":"",rules:[p=>p>=1&&p<=t.value.keepDays||d.$t("forms.rules.range",{label:d.$t("forms.labels.keepDays"),min:1,max:t.value.keepDays})]},null,8,["modelValue","label","rules"]),b(co,{modelValue:c.value.isDownloadTimesLimited,"onUpdate:modelValue":h[2]||(h[2]=p=>c.value.isDownloadTimesLimited=p),label:`${d.$t("forms.labels.isDownloadTimesLimited")} *`,"left-label":""},null,8,["modelValue","label"]),cn,c.value.isDownloadTimesLimited?(O(),K($e,{key:0,filled:"",type:"number",modelValue:c.value.downloadTimes,"onUpdate:modelValue":h[3]||(h[3]=p=>c.value.downloadTimes=p),modelModifiers:{number:!0},label:`${d.$t("forms.labels.downloadTimes")} *`,"lazy-rules":"",rules:[p=>p>=1&&p<=t.value.downloadTimes||d.$t("forms.rules.range",{label:d.$t("forms.labels.downloadTimes"),min:1,max:t.value.downloadTimes})]},null,8,["modelValue","label","rules"])):it("",!0),b(Ke,{modelValue:c.value.type,"onUpdate:modelValue":h[4]||(h[4]=p=>c.value.type=p),val:"text",label:d.$t("forms.labels.text")},null,8,["modelValue","label"]),b(Ke,{modelValue:c.value.type,"onUpdate:modelValue":h[5]||(h[5]=p=>c.value.type=p),val:"file",label:d.$t("forms.labels.file")},null,8,["modelValue","label"]),c.value.type==="text"?(O(),K(Qo,{key:1,"model-value":c.value.text,filled:"","lazy-rules":"",counter:"",rules:[p=>p.length>=1&&p.length<=t.value.uploadTextLength||d.$t("forms.rules.rangeLength",{label:d.$t("forms.labels.text"),min:1,max:t.value.uploadTextLength})]},{control:S(()=>[b(bt,{text:c.value.text,"onUpdate:text":h[6]||(h[6]=p=>c.value.text=p)},null,8,["text"])]),hint:S(()=>[X(J(d.$t("forms.hints.richText")),1)]),_:1},8,["model-value","rules"])):(O(),K(jo,{key:2,filled:"",clearable:"","bottom-slots":"",modelValue:c.value.file,"onUpdate:modelValue":h[8]||(h[8]=p=>c.value.file=p),label:`${d.$t("forms.labels.file")} *`,"lazy-rules":"",rules:[p=>p||d.$t("forms.rules.notEmpty",{label:d.$t("forms.labels.file")}),p=>p.size<=t.value.uploadFileBytes||`${d.$t("forms.rules.maxSize",{label:d.$t("forms.labels.file"),max:t.value.uploadFileBytes/1048576})} MB`],counter:""},{prepend:S(()=>[b(he,{name:"cloud_upload",onClick:h[7]||(h[7]=fo(()=>{},["stop"]))})]),_:1},8,["modelValue","label","rules"])),b(H,{loading:r.value,label:d.$t("buttons.submit"),type:"submit",color:"primary"},null,8,["loading","label"]),b(H,{label:d.$t("buttons.reset"),type:"reset"},null,8,["label"])]),_:1}),b($t,{showing:!t.value},{default:S(()=>[b(Mt,{size:"xl",color:"primary"})]),_:1},8,["showing"])],64))}}),Cn=te({__name:"IndexPage",setup(e){const t=M("receive");return(i,r)=>(O(),K(xe,null,{default:S(()=>[b(Lt,{"model-value":20,disable:""},{before:S(()=>[b(Nt,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=u=>t.value=u),vertical:"",class:"text-primary"},{default:S(()=>[b(Ie,{name:"receive",icon:"file_download",label:i.$t("tabs.receive")},null,8,["label"]),b(Ie,{name:"upload",icon:"file_upload",label:i.$t("tabs.upload")},null,8,["label"])]),_:1},8,["modelValue"])]),after:S(()=>[b(Ft,{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=u=>t.value=u),animated:"",vertical:"","keep-alive":"","transition-prev":"jump-up","transition-next":"jump-up"},{default:S(()=>[b(Oe,{name:"receive"},{default:S(()=>[b(Uo)]),_:1}),b(Oe,{name:"upload"},{default:S(()=>[b(dn)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});export{Cn as default};
