var Tt=Object.defineProperty,Pt=Object.defineProperties;var Rt=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var zt=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable;var Oe=(e,t,i)=>t in e?Tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,$=(e,t)=>{for(var i in t||(t={}))zt.call(t,i)&&Oe(e,i,t[i]);if(_e)for(var i of _e(t))$t.call(t,i)&&Oe(e,i,t[i]);return e},_=(e,t)=>Pt(e,Rt(t));import{Q as Nt,a as Mt,b as Lt,c as Ie,d as Ft,e as Ue,f as Dt}from"./QInnerLoading.60e78d3a.js";import{s as xt,a as pe,ac as At,ad as Bt,ae as qt,f as N,d as E,af as _t,ag as Ot,ah as It,ai as Ut,aj as Qt,w as de,o as ke,a9 as Qe,a8 as He,t as Ht,h as C,ao as Vt,j as ge,e as et,a6 as Le,av as jt,aw as tt,a7 as ze,au as H,T as he,ax as Kt,ay as Wt,q as Fe,az as Ve,a2 as nt,a4 as ot,aA as Gt,aB as Yt,a0 as Jt,ap as Xt,F as te,H as K,J as I,I as S,aC as at,K as b,aD as me,M as De,R as X,P as je,Q as J,aE as lt,aF as it,U as rt,aG as xe,N as le,aH as $e,V as st,aI as Ne,aJ as ut,aK as ct,aL as dt,aM as ft,aN as Zt,aO as en,aP as tn,aQ as nn,aR as on,aS as an,aT as ln,aU as rn,aV as sn,aW as un,aX as Ke,aY as cn,aZ as vt,a_ as ht,$ as Se,W as dn,a$ as fn,b0 as We,b1 as vn}from"./index.6d9bfb19.js";import{Q as mt}from"./QForm.8ea1dfeb.js";import{api as re}from"./axios.7123f59d.js";import{u as hn,v as Ge,e as mn,f as pn,g as gn,r as Ye,s as yn,p as Je,h as bn,b as Ee,a as Me,Q as Cn,d as wn,c as Ce}from"./QBtnDropdown.555404b4.js";import{d as Sn}from"./i18n.1af5fd8d.js";import{c as Xe}from"./selection.f86ea5ce.js";const se="/public",kn=async()=>await re.get(`${se}/settings`),En=async e=>await re.post(`${se}/upload/text`,e),Tn=async(e,t)=>await re.post(`${se}/upload/file/${e}`,t),Pn=async(e,t)=>await re.post(`${se}/upload/file/merge/${e}`,t),Rn=async e=>{const t=await re.get(`${se}/receive/${e}`,{responseType:"arraybuffer"}),i=`
`,u=new TextDecoder("utf-8").decode(t);if(u.includes(i)){const c=u.indexOf(i),o=u.slice(0,c),n=JSON.parse(o);return{data:n,callback:()=>{const l=new TextEncoder().encode(o),r=t.slice(l.length+1),h=new Blob([r],{type:"application/octet-stream"}),d=document.createElement("a"),v=URL.createObjectURL(h);return d.href=v,d.download=n.result.content,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(v),n}}}return{data:JSON.parse(u)}},zn=async e=>await re.delete(`${se}/text/${e}`),$n=async e=>await re.delete(`${se}/file/${e}`);function pt(e,t){if(t&&e===t)return null;const i=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(i)===!0)return e;const s=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,u=s.display;return u==="block"||u==="table"?e:pt(e.parentNode)}function Pe(e,t,i){return!e||e===document.body?!1:i===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function gt(e,t,i){if(i||(i=document.createRange(),i.selectNode(e),i.setStart(e,0)),t.count===0)i.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(i.setEnd(e,t.count),t.count=0);else for(let s=0;t.count!==0&&s<e.childNodes.length;s++)i=gt(e.childNodes[s],t,i);return i}const Nn=/^https?:\/\//;class Mn{constructor(t,i){this.el=t,this.eVm=i,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(Pe(t.anchorNode,this.el,!0)&&Pe(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length>0:!1}get range(){const t=this.selection;return t!==null&&t.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const i=t.startContainer;return i.nodeType===document.ELEMENT_NODE?i:i.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?pt(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const i=document.createRange(),s=document.getSelection();t!==null?(i.setStart(t.startContainer,t.startOffset),i.setEnd(t.endContainer,t.endOffset),s.removeAllRanges(),s.addRange(i)):(s.selectAllChildren(this.el),s.collapseToEnd())}savePosition(){let t=-1,i;const s=document.getSelection(),u=this.el.parentNode;if(s.focusNode&&Pe(s.focusNode,u))for(i=s.focusNode,t=s.focusOffset;i&&i!==u;)i!==this.el&&i.previousSibling?(i=i.previousSibling,t+=i.textContent.length):i=i.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const i=window.getSelection(),s=gt(this.el,{count:this.savedPos});s&&(s.collapse(!1),i.removeAllRanges(),i.addRange(s))}}hasParent(t,i){const s=i?this.parent:this.blockParent;return s!==null?s.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,i,s=this.parent){return s===null?!1:t.includes(s.nodeName.toLowerCase())===!0?!0:i===!0?this.hasParents(t,i,s.parentNode):!1}is(t,i){if(this.selection===null)return!1;switch(t){case"formatBlock":return i==="DIV"&&this.parent===this.el||this.hasParent(i,i==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===i;case"fontName":const s=document.queryCommandValue(t);return s===`"${i}"`||s===i;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const u=document.queryCommandState(t);return i!==void 0?u===i:u}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,i,s=xt){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(i)&&this.is(t,i)&&(t="outdent",i=null),i==="PRE"&&this.is(t,"PRE")&&(i="P");else if(t==="print"){s();const u=window.open();u.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),u.print(),u.close();return}else if(t==="link"){const u=this.getParentAttribute("href");if(u===null){const c=this.selectWord(this.selection),o=c?c.toString():"";if(!o.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Nn.test(o)?o:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(c.getRangeAt(0))}else this.eVm.editLinkUrl.value=u,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),s();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),s();return}document.execCommand(t,!1,i),s()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const i=document.createRange();i.setStart(t.anchorNode,t.anchorOffset),i.setEnd(t.focusNode,t.focusOffset);const s=i.collapsed?["backward","forward"]:["forward","backward"];i.detach();const u=t.focusNode,c=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",s[0],"character"),t.modify("move",s[1],"word"),t.extend(u,c),t.modify("extend",s[1],"character"),t.modify("extend",s[0],"word"),t}}var Ln=pe({name:"QTooltip",inheritAttrs:!1,props:_($($($({},hn),At),Bt),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ge},self:{type:String,default:"top middle",validator:Ge},offset:{type:Array,default:()=>[14,14],validator:mn},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...qt],setup(e,{slots:t,emit:i,attrs:s}){let u,c;const o=ge(),{proxy:{$q:n}}=o,a=N(null),l=N(!1),r=E(()=>Je(e.anchor,n.lang.rtl)),h=E(()=>Je(e.self,n.lang.rtl)),d=E(()=>e.persistent!==!0),{registerTick:v,removeTick:p}=_t(),{registerTimeout:g,removeTimeout:y}=Ot(),{transition:k,transitionStyle:T}=It(e,l),{localScrollTarget:L,changeScrollEvent:R,unconfigureScrollTarget:D}=pn(e,ae),{anchorEl:M,canShow:z,anchorEvents:q}=gn({showing:l,configureAnchorEl:oe}),{show:U,hide:Z}=Ut({showing:l,canShow:z,handleShow:Y,handleHide:ne,hideOnRouteChange:d,processOnMount:!0});Object.assign(q,{delayShow:x,delayHide:O});const{showPortal:W,hidePortal:G,renderPortal:V}=Qt(o,a,fe);if(n.platform.is.mobile===!0){const F={anchorEl:M,innerRef:a,onClickOutside(j){return Z(j),j.target.classList.contains("q-dialog__backdrop")&&Le(j),!0}},Q=E(()=>e.modelValue===null&&e.persistent!==!0&&l.value===!0);de(Q,j=>{(j===!0?bn:Ye)(F)}),ke(()=>{Ye(F)})}function Y(F){p(),y(),W(),v(()=>{c=new MutationObserver(()=>w()),c.observe(a.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),w(),ae()}),u===void 0&&(u=de(()=>n.screen.width+"|"+n.screen.height+"|"+e.self+"|"+e.anchor+"|"+n.lang.rtl,w)),g(()=>{W(!0),i("show",F)},e.transitionDuration)}function ne(F){p(),y(),G(),ue(),g(()=>{G(!0),i("hide",F)},e.transitionDuration)}function ue(){c!==void 0&&(c.disconnect(),c=void 0),u!==void 0&&(u(),u=void 0),D(),Qe(q,"tooltipTemp")}function w(){const F=a.value;M.value===null||!F||yn({el:F,offset:e.offset,anchorEl:M.value,anchorOrigin:r.value,selfOrigin:h.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function x(F){if(n.platform.is.mobile===!0){Xe(),document.body.classList.add("non-selectable");const Q=M.value,j=["touchmove","touchcancel","touchend","click"].map(be=>[Q,be,"delayHide","passiveCapture"]);He(q,"tooltipTemp",j)}g(()=>{U(F)},e.delay)}function O(F){y(),n.platform.is.mobile===!0&&(Qe(q,"tooltipTemp"),Xe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),g(()=>{Z(F)},e.hideDelay)}function oe(){if(e.noParentEvent===!0||M.value===null)return;const F=n.platform.is.mobile===!0?[[M.value,"touchstart","delayShow","passive"]]:[[M.value,"mouseenter","delayShow","passive"],[M.value,"mouseleave","delayHide","passive"]];He(q,"anchor",F)}function ae(){if(M.value!==null||e.scrollTarget!==void 0){L.value=Ht(M.value,e.scrollTarget);const F=e.noParentEvent===!0?w:Z;R(L.value,F)}}function ye(){return l.value===!0?C("div",_($({},s),{ref:a,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",s.class],style:[s.style,T.value],role:"complementary"}),et(t.default)):null}function fe(){return C(Vt,{name:k.value,appear:!0},ye)}return ke(ue),Object.assign(o.proxy,{updatePosition:w}),V}});function yt(e,t,i){t.handler?t.handler(e,i,i.caret):i.runCmd(t.cmd,t.param)}function Ae(e){return C("div",{class:"q-editor__toolbar-group"},e)}function bt(e,t,i,s=!1){const u=s||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),c=[];if(t.tip&&e.$q.platform.is.desktop){const o=t.key?C("div",[C("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;c.push(C(Ln,{delay:1e3},()=>[C("div",{innerHTML:t.tip}),o]))}return C(H,_($({},e.buttonProps.value),{icon:t.icon!==null?t.icon:void 0,color:u?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:u&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(o){i&&i(),yt(o,t,e)}}),()=>c)}function Fn(e,t){const i=t.list==="only-icons";let s=t.label,u=t.icon!==null?t.icon:void 0,c,o;function n(){l.component.proxy.hide()}if(i)o=t.options.map(r=>{const h=r.type===void 0?e.caret.is(r.cmd,r.param):!1;return h&&(s=r.tip,u=r.icon!==null?r.icon:void 0),bt(e,r,n,h)}),c=e.toolbarBackgroundClass.value,o=[Ae(o)];else{const r=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,h=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,d=t.list==="no-icons";o=t.options.map(v=>{const p=v.disable?v.disable(e):!1,g=v.type===void 0?e.caret.is(v.cmd,v.param):!1;g&&(s=v.tip,u=v.icon!==null?v.icon:void 0);const y=v.htmlTip;return C(Me,{active:g,activeClass:r,clickable:!0,disable:p,dense:!0,onClick(k){n(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),yt(k,v,e)}},()=>[d===!0?null:C(Ee,{class:g?r:h,side:!0},()=>C(he,{name:v.icon!==null?v.icon:void 0})),C(Ee,y?()=>C("div",{class:"text-no-wrap",innerHTML:v.htmlTip}):v.tip?()=>C("div",{class:"text-no-wrap"},v.tip):void 0)])}),c=[e.toolbarBackgroundClass.value,h]}const a=t.highlight&&s!==t.label,l=C(Cn,_($({},e.buttonProps.value),{noCaps:!0,noWrap:!0,color:a?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:a&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:s,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:u,contentClass:c}),()=>o);return l}function Dn(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(i=>i.cmd==="viewsource")).map(t=>Ae(t.map(i=>e.isViewingSource.value&&i.cmd!=="viewsource"?!1:i.type==="slot"?et(e.slots[i.slot]):i.type==="dropdown"?Fn(e,i):bt(e,i))))}function xn(e,t,i,s={}){const u=Object.keys(s);if(u.length===0)return{};const c={default_font:{cmd:"fontName",param:e,icon:i,tip:t}};return u.forEach(o=>{const n=s[o];c[o]={cmd:"fontName",param:n,icon:i,tip:n,htmlTip:`<font face="${n}">${n}</font>`}}),c}function An(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let i=e.editLinkUrl.value;const s=()=>{e.caret.restore(),i!==e.editLinkUrl.value&&document.execCommand("createLink",!1,i===""?" ":i),e.editLinkUrl.value=null};return[C("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),C("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:i,onInput:u=>{jt(u),i=u.target.value},onKeydown:u=>{if(tt(u)!==!0)switch(u.keyCode){case 13:return ze(u),s();case 27:ze(u),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),Ae([C(H,_($({key:"qedt_btm_rem",tabindex:-1},e.buttonProps.value),{label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}})),C(H,_($({key:"qedt_btm_upd"},e.buttonProps.value),{label:e.$q.lang.label.update,noCaps:!0,onClick:s}))])]}}let ve=0;const Bn={fullscreen:Boolean,noRouteFullscreenExit:Boolean},qn=["update:fullscreen","fullscreen"];function _n(){const e=ge(),{props:t,emit:i,proxy:s}=e;let u,c,o;const n=N(!1);Kt(e)===!0&&de(()=>s.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&r()}),de(()=>t.fullscreen,h=>{n.value!==h&&a()}),de(n,h=>{i("update:fullscreen",h),i("fullscreen",h)});function a(){n.value===!0?r():l()}function l(){n.value!==!0&&(n.value=!0,o=s.$el.parentNode,o.replaceChild(c,s.$el),document.body.appendChild(s.$el),ve++,ve===1&&document.body.classList.add("q-body--fullscreen-mixin"),u={handler:r},Ve.add(u))}function r(){n.value===!0&&(u!==void 0&&(Ve.remove(u),u=void 0),o.replaceChild(s.$el,c),n.value=!1,ve=Math.max(0,ve-1),ve===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),s.$el.scrollIntoView!==void 0&&setTimeout(()=>{s.$el.scrollIntoView()})))}return Wt(()=>{c=document.createElement("span")}),Fe(()=>{t.fullscreen===!0&&l()}),ke(r),Object.assign(s,{toggleFullscreen:a,setFullscreen:l,exitFullscreen:r}),{inFullscreen:n,toggleFullscreen:a}}var On=pe({name:"QEditor",props:_($($({},nt),Bn),{modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean}),emits:[...qn,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur"],setup(e,{slots:t,emit:i,attrs:s}){const{proxy:u,vnode:c}=ge(),{$q:o}=u,n=ot(e,o),{inFullscreen:a,toggleFullscreen:l}=_n(),r=Gt(s,c),h=N(null),d=N(null),v=N(null),p=N(!1),g=E(()=>!e.readonly&&!e.disable);let y,k,T=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),y=window.getComputedStyle(document.body).fontFamily;const L=E(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),R=E(()=>{const f=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:f,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!g.value,size:"sm"}}),D=E(()=>{const f=o.lang.editor,m=o.iconSet.editor;return{bold:{cmd:"bold",icon:m.bold,tip:f.bold,key:66},italic:{cmd:"italic",icon:m.italic,tip:f.italic,key:73},strike:{cmd:"strikeThrough",icon:m.strikethrough,tip:f.strikethrough,key:83},underline:{cmd:"underline",icon:m.underline,tip:f.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:m.unorderedList,tip:f.unorderedList},ordered:{cmd:"insertOrderedList",icon:m.orderedList,tip:f.orderedList},subscript:{cmd:"subscript",icon:m.subscript,tip:f.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:m.superscript,tip:f.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:P=>P.caret&&!P.caret.can("link"),icon:m.hyperlink,tip:f.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:m.toggleFullscreen,tip:f.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:m.viewSource,tip:f.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:m.quote,tip:f.quote,key:81},left:{cmd:"justifyLeft",icon:m.left,tip:f.left},center:{cmd:"justifyCenter",icon:m.center,tip:f.center},right:{cmd:"justifyRight",icon:m.right,tip:f.right},justify:{cmd:"justifyFull",icon:m.justify,tip:f.justify},print:{type:"no-state",cmd:"print",icon:m.print,tip:f.print,key:80},outdent:{type:"no-state",disable:P=>P.caret&&!P.caret.can("outdent"),cmd:"outdent",icon:m.outdent,tip:f.outdent},indent:{type:"no-state",disable:P=>P.caret&&!P.caret.can("indent"),cmd:"indent",icon:m.indent,tip:f.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:m.removeFormat,tip:f.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:m.hr,tip:f.hr},undo:{type:"no-state",cmd:"undo",icon:m.undo,tip:f.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:m.redo,tip:f.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:m.heading1||m.heading,tip:f.heading1,htmlTip:`<h1 class="q-ma-none">${f.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:m.heading2||m.heading,tip:f.heading2,htmlTip:`<h2 class="q-ma-none">${f.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:m.heading3||m.heading,tip:f.heading3,htmlTip:`<h3 class="q-ma-none">${f.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:m.heading4||m.heading,tip:f.heading4,htmlTip:`<h4 class="q-ma-none">${f.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:m.heading5||m.heading,tip:f.heading5,htmlTip:`<h5 class="q-ma-none">${f.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:m.heading6||m.heading,tip:f.heading6,htmlTip:`<h6 class="q-ma-none">${f.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:m.heading,tip:f.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:m.code,htmlTip:`<code>${f.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:m.size1||m.size,tip:f.size1,htmlTip:`<font size="1">${f.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:m.size2||m.size,tip:f.size2,htmlTip:`<font size="2">${f.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:m.size3||m.size,tip:f.size3,htmlTip:`<font size="3">${f.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:m.size4||m.size,tip:f.size4,htmlTip:`<font size="4">${f.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:m.size5||m.size,tip:f.size5,htmlTip:`<font size="5">${f.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:m.size6||m.size,tip:f.size6,htmlTip:`<font size="6">${f.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:m.size7||m.size,tip:f.size7,htmlTip:`<font size="7">${f.size7}</font>`}}}),M=E(()=>{const f=e.definitions||{},m=e.definitions||e.fonts?Yt(!0,{},D.value,f,xn(y,o.lang.editor.defaultFont,o.iconSet.editor.font,e.fonts)):D.value;return e.toolbar.map(P=>P.map(A=>{if(A.options)return{type:"dropdown",icon:A.icon,label:A.label,size:"sm",dense:!0,fixedLabel:A.fixedLabel,fixedIcon:A.fixedIcon,highlight:A.highlight,list:A.list,options:A.options.map(Et=>m[Et])};const ee=m[A];return ee?ee.type==="no-state"||f[A]&&(ee.cmd===void 0||D.value[ee.cmd]&&D.value[ee.cmd].type==="no-state")?ee:Object.assign({type:"toggle"},ee):{type:"slot",slot:A}}))}),z={$q:o,props:e,slots:t,inFullscreen:a,toggleFullscreen:l,runCmd:F,isViewingSource:p,editLinkUrl:v,toolbarBackgroundClass:L,buttonProps:R,contentRef:d,buttons:M,setContent:fe};de(()=>e.modelValue,f=>{T!==f&&(T=f,fe(f,!0))});const q=E(()=>e.toolbar&&e.toolbar.length>0),U=E(()=>{const f={},m=P=>{P.key&&(f[P.key]={cmd:P.cmd,param:P.param})};return M.value.forEach(P=>{P.forEach(A=>{A.options?A.options.forEach(m):m(A)})}),f}),Z=E(()=>a.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),W=E(()=>`q-editor q-editor--${p.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(a.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(n.value===!0?" q-editor--dark q-dark":"")),G=E(()=>[e.contentClass,"q-editor__content",{col:a.value,"overflow-auto":a.value||e.maxHeight}]),V=E(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});function Y(){if(d.value!==null){const f=`inner${p.value===!0?"Text":"HTML"}`,m=d.value[f];m!==e.modelValue&&(T=m,i("update:modelValue",m))}}function ne(f){if(i("keydown",f),f.ctrlKey!==!0||tt(f)===!0){Q();return}const m=f.keyCode,P=U.value[m];if(P!==void 0){const{cmd:A,param:ee}=P;Le(f),F(A,ee,!1)}}function ue(f){Q(),i("click",f)}function w(f){if(d.value!==null){const{scrollTop:m,scrollHeight:P}=d.value;k=P-m}z.caret.save(),i("blur",f)}function x(f){Jt(()=>{d.value!==null&&k!==void 0&&(d.value.scrollTop=d.value.scrollHeight-k)}),i("focus",f)}function O(f){const m=h.value;if(m!==null&&m.contains(f.target)===!0&&(f.relatedTarget===null||m.contains(f.relatedTarget)!==!0)){const P=`inner${p.value===!0?"Text":"HTML"}`;z.caret.restorePosition(d.value[P].length),Q()}}function oe(f){const m=h.value;m!==null&&m.contains(f.target)===!0&&(f.relatedTarget===null||m.contains(f.relatedTarget)!==!0)&&(z.caret.savePosition(),Q())}function ae(){k=void 0}function ye(f){z.caret.save()}function fe(f,m){if(d.value!==null){m===!0&&z.caret.savePosition();const P=`inner${p.value===!0?"Text":"HTML"}`;d.value[P]=f,m===!0&&(z.caret.restorePosition(d.value[P].length),Q())}}function F(f,m,P=!0){j(),z.caret.restore(),z.caret.apply(f,m,()=>{j(),z.caret.save(),P&&Q()})}function Q(){setTimeout(()=>{v.value=null,u.$forceUpdate()},1)}function j(){Xt(()=>{d.value!==null&&d.value.focus({preventScroll:!0})})}function be(){return d.value}return Fe(()=>{z.caret=u.caret=new Mn(d.value,z),fe(e.modelValue),Q(),document.addEventListener("selectionchange",ye)}),ke(()=>{document.removeEventListener("selectionchange",ye)}),Object.assign(u,{runCmd:F,refreshToolbar:Q,focus:j,getContentEl:be}),()=>{let f;if(q.value){const m=[C("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+L.value},Dn(z))];v.value!==null&&m.push(C("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+L.value},An(z))),f=C("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},m)}return C("div",_($({ref:h,class:W.value,style:{height:a.value===!0?"100%":null}},V.value),{onFocusin:O,onFocusout:oe}),[f,C("div",_($({ref:d,style:Z.value,class:G.value,contenteditable:g.value,placeholder:e.placeholder},r.listeners.value),{onInput:Y,onKeydown:ne,onClick:ue,onBlur:w,onFocus:x,onMousedown:ae,onTouchstartPassive:ae}))])}}});const Ct=te({__name:"RichTextEditor",props:{text:{type:String,required:!0},readonly:{type:Boolean,required:!1,default:!1}},emits:["update:text"],setup(e,{emit:t}){const i=N(),s=o=>{if(!!o){for(let n=0;n<o.items.length;n++)if(o.items[n].type==="text/plain")i.value.runCmd("insertText",o.getData("text/plain"));else if(o.items[n].type.startsWith("image/")){const a=o.items[n].getAsFile();if(a){const l=new FileReader;l.readAsDataURL(a),l.onloadend=()=>{const r=l.result;i.value.runCmd("insertImage",r)}}}}},u=o=>{o.preventDefault(),o.stopPropagation(),s(o.clipboardData)},c=o=>{o.preventDefault(),o.stopPropagation(),s(o.dataTransfer)};return(o,n)=>(I(),K(On,{ref_key:"editorRef",ref:i,readonly:e.readonly,"model-value":e.text,"onUpdate:modelValue":n[0]||(n[0]=a=>t("update:text",a)),class:"tw-w-full",dense:o.$q.screen.lt.md,placeholder:`${o.$t("forms.placeholders.richText")} *`,onPaste:n[1]||(n[1]=a=>u(a)),onDrop:n[2]||(n[2]=a=>c(a)),toolbar:[[{label:o.$q.lang.editor.align,icon:o.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:o.$q.lang.editor.formatting,icon:o.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:o.$q.lang.editor.fontSize,icon:o.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:o.$q.lang.editor.defaultFont,icon:o.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["readonly","model-value","dense","placeholder","toolbar"]))}}),In={key:0,class:"text-h4"},Un=te({__name:"ReceiveSuccessDialog",props:{isShow:{type:Boolean},receiveData:{}},emits:["update:is-show"],setup(e,{emit:t}){const i=e,s=E(()=>{var o,n;return new Date((o=i.receiveData)==null?void 0:o.expireAt).toLocaleString((n=localStorage.language)!=null?n:Sn)}),u=N(!1),c=async(o,n)=>{u.value=!0;try{const a=await(n?$n:zn)(o);le.create({message:a.message,position:"top",type:"positive"}),t("update:is-show",!1)}finally{u.value=!1}};return(o,n)=>(I(),K(at,{"model-value":o.isShow,persistent:""},{default:S(()=>[b(xe,{flat:"",bordered:""},{default:S(()=>[b(me,null,{default:S(()=>[o.receiveData.isFile?(I(),De("div",In,X(o.$t("dialogs.fileDownloadStartingMessage"))+"... ",1)):(I(),K(Ct,{key:1,text:o.receiveData.content,readonly:!0},null,8,["text"]))]),_:1}),b(me,null,{default:S(()=>[b(wn,{bordered:"",separator:""},{default:S(()=>[je((I(),K(Me,{clickable:""},{default:S(()=>[b(Ee,null,{default:S(()=>[b(Ce,{overline:""},{default:S(()=>[J("\u8FC7\u671F\u65F6\u95F4")]),_:1}),b(Ce,null,{default:S(()=>[J(X(s.value),1)]),_:1})]),_:1})]),_:1})),[[$e]]),je((I(),K(Me,{clickable:""},{default:S(()=>[b(Ee,null,{default:S(()=>[b(Ce,{overline:""},{default:S(()=>[J("\u5269\u4F59\u4E0B\u8F7D\u6B21\u6570")]),_:1}),b(Ce,null,{default:S(()=>[J(X(o.receiveData.downloadTimes===0?"\u221E":o.receiveData.downloadTimes-1),1)]),_:1})]),_:1})]),_:1})),[[$e]])]),_:1})]),_:1}),b(lt),b(it,null,{default:S(()=>[b(H,{onClick:n[0]||(n[0]=a=>t("update:is-show",!1)),flat:"",color:"primary"},{default:S(()=>[J(X(o.$t("buttons.ok")),1)]),_:1}),o.receiveData.downloadTimes!==1?(I(),K(H,{key:0,onClick:n[1]||(n[1]=a=>c(o.receiveData.id,o.receiveData.isFile)),loading:u.value,flat:"",color:"negative"},{default:S(()=>[J(X(o.$t("buttons.destroy")),1)]),_:1},8,["loading"])):rt("",!0)]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),Qn=te({__name:"ReceiveForm",setup(e){const t=N(!1),i={receiveCode:(()=>{var r;const a=new URL(window.location.href);return(r=new URLSearchParams(a.search).get("receive_code"))!=null?r:""})()},s=N($({},i)),u=N(!1),c=N(null),o=async()=>{t.value=!0;try{const{data:a,callback:l}=await Rn(s.value.receiveCode);le.create({message:a.message,position:"top",type:"positive"}),c.value=a.result,u.value=!0,l&&l()}finally{t.value=!1}},n=()=>{s.value=$({},i)};return(a,l)=>(I(),De(st,null,[b(Un,{"is-show":u.value,"onUpdate:isShow":l[0]||(l[0]=r=>u.value=r),"receive-data":c.value},null,8,["is-show","receive-data"]),b(mt,{onSubmit:o,onReset:n,class:"q-gutter-md"},{default:S(()=>[b(Ne,{filled:"",modelValue:s.value.receiveCode,"onUpdate:modelValue":l[1]||(l[1]=r=>s.value.receiveCode=r),label:`${a.$t("forms.labels.receiveCode")} *`,"lazy-rules":"",rules:[r=>r.length>0||a.$t("forms.rules.notEmpty",{label:a.$t("forms.labels.receiveCode")})]},null,8,["modelValue","label","rules"]),b(H,{loading:t.value,label:a.$t("buttons.submit"),type:"submit",color:"primary"},null,8,["loading","label"]),b(H,{label:a.$t("buttons.reset"),type:"reset"},null,8,["label"])]),_:1})],64))}});var Hn=pe({name:"QField",inheritAttrs:!1,props:ut,emits:ct,setup(){return dt(ft())}});const Vn={xs:8,sm:10,md:14,lg:20,xl:24};var jn=pe({name:"QChip",props:_($($({},nt),Zt),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:i}){const{proxy:{$q:s}}=ge(),u=ot(e,s),c=en(e,Vn),o=E(()=>e.selected===!0||e.icon!==void 0),n=E(()=>e.selected===!0?e.iconSelected||s.iconSet.chip.selected:e.icon),a=E(()=>e.iconRemove||s.iconSet.chip.remove),l=E(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),r=E(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(l.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(u.value===!0?" q-chip--dark q-dark":"")}),h=E(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function d(y){y.keyCode===13&&v(y)}function v(y){e.disable||(i("update:selected",!e.selected),i("click",y))}function p(y){(y.keyCode===void 0||y.keyCode===13)&&(Le(y),e.disable===!1&&(i("update:modelValue",!1),i("remove")))}function g(){const y=[];l.value===!0&&y.push(C("div",{class:"q-focus-helper"})),o.value===!0&&y.push(C(he,{class:"q-chip__icon q-chip__icon--left",name:n.value}));const k=e.label!==void 0?[C("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(C("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},nn(t.default,k))),e.iconRight&&y.push(C(he,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(C(he,_($({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:a.value},h.value),{onClick:p,onKeyup:p}))),y}return()=>{if(e.modelValue===!1)return;const y={class:r.value,style:c.value};return l.value===!0&&Object.assign(y,h.value,{onClick:v,onKeyup:d}),tn("div",y,g(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[$e,e.ripple]])}}}),Kn=pe({name:"QFile",inheritAttrs:!1,props:_($($($({},ut),on),an),{modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]}),emits:[...ct,...ln],setup(e,{slots:t,emit:i,attrs:s}){const{proxy:u}=ge(),c=ft(),o=N(null),n=N(!1),a=rn(e),{pickFiles:l,onDragover:r,onDragleave:h,processFiles:d,getDndNode:v}=sn({editable:c.editable,dnd:n,getFileInput:G,addFilesToQueue:V}),p=un(e),g=E(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),y=E(()=>Ke(g.value)),k=E(()=>g.value.map(w=>w.name).join(", ")),T=E(()=>cn(g.value.reduce((w,x)=>w+x.size,0))),L=E(()=>({totalSize:T.value,filesNumber:g.value.length,maxFiles:e.maxFiles})),R=E(()=>_($({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:a.value},s),{id:c.targetUid.value,disabled:c.editable.value!==!0})),D=E(()=>"q-file q-field--auto-height"+(n.value===!0?" q-file--dnd":"")),M=E(()=>e.multiple===!0&&e.append===!0);function z(w){const x=g.value.slice();x.splice(w,1),U(x)}function q(w){const x=g.value.findIndex(w);x>-1&&z(x)}function U(w){i("update:modelValue",e.multiple===!0?w:w[0])}function Z(w){w.keyCode===13&&ze(w)}function W(w){(w.keyCode===13||w.keyCode===32)&&l(w)}function G(){return o.value}function V(w,x){const O=d(w,x,g.value,M.value),oe=G();oe!=null&&(oe.value=""),O!==void 0&&((e.multiple===!0?e.modelValue&&O.every(ae=>g.value.includes(ae)):e.modelValue===O[0])||U(M.value===!0?g.value.concat(O):O))}function Y(){return[C("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function ne(){if(t.file!==void 0)return g.value.length===0?Y():g.value.map((x,O)=>t.file({index:O,file:x,ref:this}));if(t.selected!==void 0)return g.value.length===0?Y():t.selected({files:g.value,ref:this});if(e.useChips===!0)return g.value.length===0?Y():g.value.map((x,O)=>C(jn,{key:"file-"+O,removable:c.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{z(O)}},()=>C("span",{class:"ellipsis",textContent:x.name})));const w=e.displayValue!==void 0?e.displayValue:k.value;return w.length>0?[C("div",{class:e.inputClass,style:e.inputStyle,textContent:w})]:Y()}function ue(){const w=_($($({ref:o},R.value),p.value),{class:"q-field__input fit absolute-full cursor-pointer",onChange:V});return e.multiple===!0&&(w.multiple=!0),C("input",w)}return Object.assign(c,{fieldClass:D,emitValue:U,hasValue:y,inputRef:o,innerValue:g,floatingLabel:E(()=>y.value===!0||Ke(e.displayValue)),computedCounter:E(()=>{if(e.counterLabel!==void 0)return e.counterLabel(L.value);const w=e.maxFiles;return`${g.value.length}${w!==void 0?" / "+w:""} (${T.value})`}),getControlChild:()=>v("file"),getControl:()=>{const w={ref:c.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return c.editable.value===!0&&Object.assign(w,{onDragover:r,onDragleave:h,onKeydown:Z,onKeyup:W}),C("div",w,[ue()].concat(ne()))}}),Object.assign(u,{removeAtIndex:z,removeFile:q,getNativeElement:()=>o.value}),dt(c)}});/*!
 * qrcode.vue v3.4.0
 * A Vue.js component to generate QRCode.
 * © 2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var Te=function(){return Te=Object.assign||function(t){for(var i,s=1,u=arguments.length;s<u;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},Te.apply(this,arguments)},ie;(function(e){var t=function(){function o(n,a,l,r){if(this.version=n,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],n<o.MIN_VERSION||n>o.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=n*4+17;for(var h=[],d=0;d<this.size;d++)h.push(!1);for(var d=0;d<this.size;d++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();var v=this.addEccAndInterleave(l);if(this.drawCodewords(v),r==-1)for(var p=1e9,d=0;d<8;d++){this.applyMask(d),this.drawFormatBits(d);var g=this.getPenaltyScore();g<p&&(r=d,p=g),this.applyMask(d)}u(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}return o.encodeText=function(n,a){var l=e.QrSegment.makeSegments(n);return o.encodeSegments(l,a)},o.encodeBinary=function(n,a){var l=e.QrSegment.makeBytes(n);return o.encodeSegments([l],a)},o.encodeSegments=function(n,a,l,r,h,d){if(l===void 0&&(l=1),r===void 0&&(r=40),h===void 0&&(h=-1),d===void 0&&(d=!0),!(o.MIN_VERSION<=l&&l<=r&&r<=o.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");var v,p;for(v=l;;v++){var g=o.getNumDataCodewords(v,a)*8,y=c.getTotalBits(n,v);if(y<=g){p=y;break}if(v>=r)throw new RangeError("Data too long")}for(var k=0,T=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];k<T.length;k++){var L=T[k];d&&p<=o.getNumDataCodewords(v,L)*8&&(a=L)}for(var R=[],D=0,M=n;D<M.length;D++){var z=M[D];i(z.mode.modeBits,4,R),i(z.numChars,z.mode.numCharCountBits(v),R);for(var q=0,U=z.getData();q<U.length;q++){var Z=U[q];R.push(Z)}}u(R.length==p);var W=o.getNumDataCodewords(v,a)*8;u(R.length<=W),i(0,Math.min(4,W-R.length),R),i(0,(8-R.length%8)%8,R),u(R.length%8==0);for(var G=236;R.length<W;G^=253)i(G,8,R);for(var V=[];V.length*8<R.length;)V.push(0);return R.forEach(function(Y,ne){return V[ne>>>3]|=Y<<7-(ne&7)}),new o(v,a,V,h)},o.prototype.getModule=function(n,a){return 0<=n&&n<this.size&&0<=a&&a<this.size&&this.modules[a][n]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var a=this.getAlignmentPatternPositions(),l=a.length,n=0;n<l;n++)for(var r=0;r<l;r++)n==0&&r==0||n==0&&r==l-1||n==l-1&&r==0||this.drawAlignmentPattern(a[n],a[r]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(n){for(var a=this.errorCorrectionLevel.formatBits<<3|n,l=a,r=0;r<10;r++)l=l<<1^(l>>>9)*1335;var h=(a<<10|l)^21522;u(h>>>15==0);for(var r=0;r<=5;r++)this.setFunctionModule(8,r,s(h,r));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(var r=9;r<15;r++)this.setFunctionModule(14-r,8,s(h,r));for(var r=0;r<8;r++)this.setFunctionModule(this.size-1-r,8,s(h,r));for(var r=8;r<15;r++)this.setFunctionModule(8,this.size-15+r,s(h,r));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var n=this.version,a=0;a<12;a++)n=n<<1^(n>>>11)*7973;var l=this.version<<12|n;u(l>>>18==0);for(var a=0;a<18;a++){var r=s(l,a),h=this.size-11+a%3,d=Math.floor(a/3);this.setFunctionModule(h,d,r),this.setFunctionModule(d,h,r)}}},o.prototype.drawFinderPattern=function(n,a){for(var l=-4;l<=4;l++)for(var r=-4;r<=4;r++){var h=Math.max(Math.abs(r),Math.abs(l)),d=n+r,v=a+l;0<=d&&d<this.size&&0<=v&&v<this.size&&this.setFunctionModule(d,v,h!=2&&h!=4)}},o.prototype.drawAlignmentPattern=function(n,a){for(var l=-2;l<=2;l++)for(var r=-2;r<=2;r++)this.setFunctionModule(n+r,a+l,Math.max(Math.abs(r),Math.abs(l))!=1)},o.prototype.setFunctionModule=function(n,a,l){this.modules[a][n]=l,this.isFunction[a][n]=!0},o.prototype.addEccAndInterleave=function(n){var a=this.version,l=this.errorCorrectionLevel;if(n.length!=o.getNumDataCodewords(a,l))throw new RangeError("Invalid argument");for(var r=o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a],h=o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a],d=Math.floor(o.getNumRawDataModules(a)/8),v=r-d%r,p=Math.floor(d/r),g=[],y=o.reedSolomonComputeDivisor(h),k=0,T=0;k<r;k++){var L=n.slice(T,T+p-h+(k<v?0:1));T+=L.length;var R=o.reedSolomonComputeRemainder(L,y);k<v&&L.push(0),g.push(L.concat(R))}for(var D=[],M=function(z){g.forEach(function(q,U){(z!=p-h||U>=v)&&D.push(q[z])})},k=0;k<g[0].length;k++)M(k);return u(D.length==d),D},o.prototype.drawCodewords=function(n){if(n.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var a=0,l=this.size-1;l>=1;l-=2){l==6&&(l=5);for(var r=0;r<this.size;r++)for(var h=0;h<2;h++){var d=l-h,v=(l+1&2)==0,p=v?this.size-1-r:r;!this.isFunction[p][d]&&a<n.length*8&&(this.modules[p][d]=s(n[a>>>3],7-(a&7)),a++)}}u(a==n.length*8)},o.prototype.applyMask=function(n){if(n<0||n>7)throw new RangeError("Mask value out of range");for(var a=0;a<this.size;a++)for(var l=0;l<this.size;l++){var r=void 0;switch(n){case 0:r=(l+a)%2==0;break;case 1:r=a%2==0;break;case 2:r=l%3==0;break;case 3:r=(l+a)%3==0;break;case 4:r=(Math.floor(l/3)+Math.floor(a/2))%2==0;break;case 5:r=l*a%2+l*a%3==0;break;case 6:r=(l*a%2+l*a%3)%2==0;break;case 7:r=((l+a)%2+l*a%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[a][l]&&r&&(this.modules[a][l]=!this.modules[a][l])}},o.prototype.getPenaltyScore=function(){for(var n=0,a=0;a<this.size;a++){for(var l=!1,r=0,h=[0,0,0,0,0,0,0],d=0;d<this.size;d++)this.modules[a][d]==l?(r++,r==5?n+=o.PENALTY_N1:r>5&&n++):(this.finderPenaltyAddHistory(r,h),l||(n+=this.finderPenaltyCountPatterns(h)*o.PENALTY_N3),l=this.modules[a][d],r=1);n+=this.finderPenaltyTerminateAndCount(l,r,h)*o.PENALTY_N3}for(var d=0;d<this.size;d++){for(var l=!1,v=0,h=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[a][d]==l?(v++,v==5?n+=o.PENALTY_N1:v>5&&n++):(this.finderPenaltyAddHistory(v,h),l||(n+=this.finderPenaltyCountPatterns(h)*o.PENALTY_N3),l=this.modules[a][d],v=1);n+=this.finderPenaltyTerminateAndCount(l,v,h)*o.PENALTY_N3}for(var a=0;a<this.size-1;a++)for(var d=0;d<this.size-1;d++){var p=this.modules[a][d];p==this.modules[a][d+1]&&p==this.modules[a+1][d]&&p==this.modules[a+1][d+1]&&(n+=o.PENALTY_N2)}for(var g=0,y=0,k=this.modules;y<k.length;y++){var T=k[y];g=T.reduce(function(D,M){return D+(M?1:0)},g)}var L=this.size*this.size,R=Math.ceil(Math.abs(g*20-L*10)/L)-1;return u(0<=R&&R<=9),n+=R*o.PENALTY_N4,u(0<=n&&n<=2568888),n},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var n=Math.floor(this.version/7)+2,a=this.version==32?26:Math.ceil((this.version*4+4)/(n*2-2))*2,l=[6],r=this.size-7;l.length<n;r-=a)l.splice(1,0,r);return l},o.getNumRawDataModules=function(n){if(n<o.MIN_VERSION||n>o.MAX_VERSION)throw new RangeError("Version number out of range");var a=(16*n+128)*n+64;if(n>=2){var l=Math.floor(n/7)+2;a-=(25*l-10)*l-55,n>=7&&(a-=36)}return u(208<=a&&a<=29648),a},o.getNumDataCodewords=function(n,a){return Math.floor(o.getNumRawDataModules(n)/8)-o.ECC_CODEWORDS_PER_BLOCK[a.ordinal][n]*o.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][n]},o.reedSolomonComputeDivisor=function(n){if(n<1||n>255)throw new RangeError("Degree out of range");for(var a=[],l=0;l<n-1;l++)a.push(0);a.push(1);for(var r=1,l=0;l<n;l++){for(var h=0;h<a.length;h++)a[h]=o.reedSolomonMultiply(a[h],r),h+1<a.length&&(a[h]^=a[h+1]);r=o.reedSolomonMultiply(r,2)}return a},o.reedSolomonComputeRemainder=function(n,a){for(var l=a.map(function(p){return 0}),r=function(p){var g=p^l.shift();l.push(0),a.forEach(function(y,k){return l[k]^=o.reedSolomonMultiply(y,g)})},h=0,d=n;h<d.length;h++){var v=d[h];r(v)}return l},o.reedSolomonMultiply=function(n,a){if(n>>>8!=0||a>>>8!=0)throw new RangeError("Byte out of range");for(var l=0,r=7;r>=0;r--)l=l<<1^(l>>>7)*285,l^=(a>>>r&1)*n;return u(l>>>8==0),l},o.prototype.finderPenaltyCountPatterns=function(n){var a=n[1];u(a<=this.size*3);var l=a>0&&n[2]==a&&n[3]==a*3&&n[4]==a&&n[5]==a;return(l&&n[0]>=a*4&&n[6]>=a?1:0)+(l&&n[6]>=a*4&&n[0]>=a?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(n,a,l){return n&&(this.finderPenaltyAddHistory(a,l),a=0),a+=this.size,this.finderPenaltyAddHistory(a,l),this.finderPenaltyCountPatterns(l)},o.prototype.finderPenaltyAddHistory=function(n,a){a[0]==0&&(n+=this.size),a.pop(),a.unshift(n)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();e.QrCode=t;function i(o,n,a){if(n<0||n>31||o>>>n!=0)throw new RangeError("Value out of range");for(var l=n-1;l>=0;l--)a.push(o>>>l&1)}function s(o,n){return(o>>>n&1)!=0}function u(o){if(!o)throw new Error("Assertion error")}var c=function(){function o(n,a,l){if(this.mode=n,this.numChars=a,this.bitData=l,a<0)throw new RangeError("Invalid argument");this.bitData=l.slice()}return o.makeBytes=function(n){for(var a=[],l=0,r=n;l<r.length;l++){var h=r[l];i(h,8,a)}return new o(o.Mode.BYTE,n.length,a)},o.makeNumeric=function(n){if(!o.isNumeric(n))throw new RangeError("String contains non-numeric characters");for(var a=[],l=0;l<n.length;){var r=Math.min(n.length-l,3);i(parseInt(n.substring(l,l+r),10),r*3+1,a),l+=r}return new o(o.Mode.NUMERIC,n.length,a)},o.makeAlphanumeric=function(n){if(!o.isAlphanumeric(n))throw new RangeError("String contains unencodable characters in alphanumeric mode");var a=[],l;for(l=0;l+2<=n.length;l+=2){var r=o.ALPHANUMERIC_CHARSET.indexOf(n.charAt(l))*45;r+=o.ALPHANUMERIC_CHARSET.indexOf(n.charAt(l+1)),i(r,11,a)}return l<n.length&&i(o.ALPHANUMERIC_CHARSET.indexOf(n.charAt(l)),6,a),new o(o.Mode.ALPHANUMERIC,n.length,a)},o.makeSegments=function(n){return n==""?[]:o.isNumeric(n)?[o.makeNumeric(n)]:o.isAlphanumeric(n)?[o.makeAlphanumeric(n)]:[o.makeBytes(o.toUtf8ByteArray(n))]},o.makeEci=function(n){var a=[];if(n<0)throw new RangeError("ECI assignment value out of range");if(n<1<<7)i(n,8,a);else if(n<1<<14)i(2,2,a),i(n,14,a);else if(n<1e6)i(6,3,a),i(n,21,a);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,a)},o.isNumeric=function(n){return o.NUMERIC_REGEX.test(n)},o.isAlphanumeric=function(n){return o.ALPHANUMERIC_REGEX.test(n)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(n,a){for(var l=0,r=0,h=n;r<h.length;r++){var d=h[r],v=d.mode.numCharCountBits(a);if(d.numChars>=1<<v)return 1/0;l+=4+v+d.bitData.length}return l},o.toUtf8ByteArray=function(n){n=encodeURI(n);for(var a=[],l=0;l<n.length;l++)n.charAt(l)!="%"?a.push(n.charCodeAt(l)):(a.push(parseInt(n.substring(l+1,l+3),16)),l+=2);return a},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();e.QrSegment=c})(ie||(ie={}));(function(e){(function(t){var i=function(){function s(u,c){this.ordinal=u,this.formatBits=c}return s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),s}();t.Ecc=i})(e.QrCode||(e.QrCode={}))})(ie||(ie={}));(function(e){(function(t){var i=function(){function s(u,c){this.modeBits=u,this.numBitsCharCount=c}return s.prototype.numCharCountBits=function(u){return this.numBitsCharCount[Math.floor((u+7)/17)]},s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),s}();t.Mode=i})(e.QrSegment||(e.QrSegment={}))})(ie||(ie={}));var ce=ie,wt="H",Be={L:ce.QrCode.Ecc.LOW,M:ce.QrCode.Ecc.MEDIUM,Q:ce.QrCode.Ecc.QUARTILE,H:ce.QrCode.Ecc.HIGH},Wn=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function St(e){return e in Be}function kt(e,t){t===void 0&&(t=0);var i=[];return e.forEach(function(s,u){var c=null;s.forEach(function(o,n){if(!o&&c!==null){i.push("M".concat(c+t," ").concat(u+t,"h").concat(n-c,"v1H").concat(c+t,"z")),c=null;return}if(n===s.length-1){if(!o)return;c===null?i.push("M".concat(n+t,",").concat(u+t," h1v1H").concat(n+t,"z")):i.push("M".concat(c+t,",").concat(u+t," h").concat(n+1-c,"v1H").concat(c+t,"z"));return}o&&c===null&&(c=n)})}),i.join("")}var qe={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:wt,validator:function(e){return St(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},Gn=Te(Te({},qe),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),Yn=te({name:"QRCodeSvg",props:qe,setup:function(e){var t=N(0),i=N(""),s=function(){var u=e.value,c=e.level,o=e.margin,n=ce.QrCode.encodeText(u,Be[c]).getModules();t.value=n.length+o*2,i.value=kt(n,o)};return s(),vt(s),function(){return C("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[C("path",{fill:e.background,d:"M0,0 h".concat(t.value,"v").concat(t.value,"H0z")}),C("path",{fill:e.foreground,d:i.value})])}}}),Jn=te({name:"QRCodeCanvas",props:qe,setup:function(e){var t=N(null),i=function(){var s=e.value,u=e.level,c=e.size,o=e.margin,n=e.background,a=e.foreground,l=t.value;if(!!l){var r=l.getContext("2d");if(!!r){var h=ce.QrCode.encodeText(s,Be[u]).getModules(),d=h.length+o*2,v=window.devicePixelRatio||1,p=c/d*v;l.height=l.width=c*v,r.scale(p,p),r.fillStyle=n,r.fillRect(0,0,d,d),r.fillStyle=a,Wn?r.fill(new Path2D(kt(h,o))):h.forEach(function(g,y){g.forEach(function(k,T){k&&r.fillRect(T+o,y+o,1,1)})})}}};return Fe(i),vt(i),function(){return C("canvas",{ref:t,style:{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")}})}}}),Xn=te({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,i=e.value,s=e.size,u=e.margin,c=e.level,o=e.background,n=e.foreground,a=s>>>0,l=u>>>0,r=St(c)?c:wt;return C(t==="svg"?Yn:Jn,{value:i,size:a,margin:l,level:r,background:o,foreground:n})},props:Gn});const Zn={class:"text-overline"},eo={class:"text-h5 q-mt-sm q-mb-xs"},to={class:"text-caption text-grey"},no=te({__name:"UploadSuccessDialog",props:{isShow:{type:Boolean,required:!0},receiveCode:{type:String,required:!0}},emits:["update:is-show"],setup(e,{emit:t}){const i=e,s=E(()=>`${location.origin}/?receive_code=${i.receiveCode}`),u=ht({useScope:"global"}),c=o=>{if(!navigator.clipboard){le.create({message:u.t("notify.copyNotSupported"),position:"top",type:"negative"});return}navigator.clipboard.writeText(o).then(()=>{le.create({message:u.t("notify.copySuccess"),position:"top",type:"positive"})}).catch(()=>{le.create({message:u.t("notify.copyFail"),position:"top",type:"negative"})})};return(o,n)=>(I(),K(at,{"model-value":e.isShow,persistent:""},{default:S(()=>[b(xe,{flat:"",bordered:""},{default:S(()=>[b(me,{horizontal:""},{default:S(()=>[b(me,{class:"q-pt-xs"},{default:S(()=>[Se("div",Zn,X(o.$t("dialogs.receiveInfo")),1),Se("div",eo,[J(X(e.receiveCode)+" ",1),b(H,{round:"",size:"md",flat:"",icon:"content_copy",onClick:n[0]||(n[0]=a=>c(e.receiveCode))})]),Se("div",to,[J(X(s.value)+" ",1),b(H,{round:"",size:"xs",flat:"",icon:"content_copy",onClick:n[1]||(n[1]=a=>c(s.value))})])]),_:1}),b(me,{class:"col-5 flex flex-center"},{default:S(()=>[b(Xn,{value:s.value},null,8,["value"])]),_:1})]),_:1}),b(lt),b(it,null,{default:S(()=>[b(H,{onClick:n[2]||(n[2]=a=>t("update:is-show",!1)),flat:"",color:"primary"},{default:S(()=>[J(X(o.$t("buttons.ok")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),Re=2097152,oo=e=>{const t=Math.ceil(e.size/Re),i=[];for(let s=0;s<t;s++){const u=s*Re,c=Math.min(u+Re,e.size),o=e.slice(u,c);i.push(o)}return i},ao=async(e,t,i,s,u)=>{const c=new FormData;c.append("chunk",t),c.append("size",String(i)),c.append("index",String(s)),c.append("totalChunks",String(u)),await Tn(e,c)};let we;const lo=new Uint8Array(16);function io(){if(!we&&(we=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!we))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return we(lo)}const B=[];for(let e=0;e<256;++e)B.push((e+256).toString(16).slice(1));function ro(e,t=0){return(B[e[t+0]]+B[e[t+1]]+B[e[t+2]]+B[e[t+3]]+"-"+B[e[t+4]]+B[e[t+5]]+"-"+B[e[t+6]]+B[e[t+7]]+"-"+B[e[t+8]]+B[e[t+9]]+"-"+B[e[t+10]]+B[e[t+11]]+B[e[t+12]]+B[e[t+13]]+B[e[t+14]]+B[e[t+15]]).toLowerCase()}const so=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Ze={randomUUID:so};function uo(e,t,i){if(Ze.randomUUID&&!t&&!e)return Ze.randomUUID();e=e||{};const s=e.random||(e.rng||io)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){i=i||0;for(let u=0;u<16;++u)t[i+u]=s[u];return t}return ro(s)}const co=Se("br",null,null,-1),fo=te({__name:"UploadForm",setup(e){const t=N(null);(async()=>{const d=await kn();t.value=d.result})();const s=N(!1),u={keepDays:1,isDownloadTimesLimited:!0,downloadTimes:1,type:"text",text:"",file:null},c=N($({},u)),o=N(!1),n=N(""),a=dn(),l=ht({useScope:"global"}),r=async()=>{if(c.value.type==="text"){s.value=!0;try{const T=await En({downloadTimes:c.value.isDownloadTimesLimited?c.value.downloadTimes:0,keepDays:c.value.keepDays,text:c.value.text});le.create({message:T.message,position:"top",type:"positive"}),n.value=T.result,o.value=!0}finally{s.value=!1}return}s.value=!0;const d=a.dialog({message:`${l.t("dialogs.uploading")}... 0%`,progress:!0,persistent:!0,ok:!1}),v=oo(c.value.file),p=uo(),g=[];for(let T=0;T<v.length;T++)g.push(ao(p,v[T],c.value.file.size,T,v.length));let y=0;const k=new Promise((T,L)=>{for(const R of g)R.then(()=>{y++;const D=Math.floor(y/g.length*100);d.update({message:`${l.t("dialogs.uploading")}... ${D}%`}),y===g.length&&(d.hide(),T())}).catch(L)});try{await Promise.all([k]);const T=await Pn(p,{downloadTimes:c.value.isDownloadTimesLimited?c.value.downloadTimes:0,keepDays:c.value.keepDays,filename:c.value.file.name});le.create({message:T.message,position:"top",type:"positive"}),n.value=T.result,o.value=!0}finally{s.value=!1}},h=()=>{c.value=$({},u)};return(d,v)=>(I(),De(st,null,[b(no,{"is-show":o.value,"onUpdate:isShow":v[0]||(v[0]=p=>o.value=p),"receive-code":n.value},null,8,["is-show","receive-code"]),b(mt,{onSubmit:r,onReset:h,class:"q-gutter-md"},{default:S(()=>[b(Ne,{filled:"",type:"number",modelValue:c.value.keepDays,"onUpdate:modelValue":v[1]||(v[1]=p=>c.value.keepDays=p),modelModifiers:{number:!0},label:`${d.$t("forms.labels.keepDays")} *`,"lazy-rules":"",rules:[p=>p>=1&&p<=t.value.maxKeepDays||d.$t("forms.rules.range",{label:d.$t("forms.labels.keepDays"),min:1,max:t.value.maxKeepDays})]},null,8,["modelValue","label","rules"]),b(fn,{modelValue:c.value.isDownloadTimesLimited,"onUpdate:modelValue":v[2]||(v[2]=p=>c.value.isDownloadTimesLimited=p),label:`${d.$t("forms.labels.isDownloadTimesLimited")} *`,"left-label":""},null,8,["modelValue","label"]),co,c.value.isDownloadTimesLimited?(I(),K(Ne,{key:0,filled:"",type:"number",modelValue:c.value.downloadTimes,"onUpdate:modelValue":v[3]||(v[3]=p=>c.value.downloadTimes=p),modelModifiers:{number:!0},label:`${d.$t("forms.labels.downloadTimes")} *`,"lazy-rules":"",rules:[p=>p>=1&&p<=t.value.maxDownloadTimes||d.$t("forms.rules.range",{label:d.$t("forms.labels.downloadTimes"),min:1,max:t.value.maxDownloadTimes})]},null,8,["modelValue","label","rules"])):rt("",!0),b(We,{modelValue:c.value.type,"onUpdate:modelValue":v[4]||(v[4]=p=>c.value.type=p),val:"text",label:d.$t("forms.labels.text")},null,8,["modelValue","label"]),b(We,{modelValue:c.value.type,"onUpdate:modelValue":v[5]||(v[5]=p=>c.value.type=p),val:"file",label:d.$t("forms.labels.file")},null,8,["modelValue","label"]),c.value.type==="text"?(I(),K(Hn,{key:1,"model-value":c.value.text,filled:"","lazy-rules":"",counter:"",rules:[p=>p.length>=1&&p.length<=t.value.maxUploadTextLength||d.$t("forms.rules.rangeLength",{label:d.$t("forms.labels.text"),min:1,max:t.value.maxUploadTextLength})]},{control:S(()=>[b(Ct,{text:c.value.text,"onUpdate:text":v[6]||(v[6]=p=>c.value.text=p)},null,8,["text"])]),hint:S(()=>[J(X(d.$t("forms.hints.richText")),1)]),_:1},8,["model-value","rules"])):(I(),K(Kn,{key:2,filled:"",clearable:"","bottom-slots":"",modelValue:c.value.file,"onUpdate:modelValue":v[8]||(v[8]=p=>c.value.file=p),label:`${d.$t("forms.labels.file")} *`,"lazy-rules":"",rules:[p=>p||d.$t("forms.rules.notEmpty",{label:d.$t("forms.labels.file")}),p=>p.size<=t.value.maxUploadFileBytes||`${d.$t("forms.rules.maxSize",{label:d.$t("forms.labels.file"),max:t.value.maxUploadFileBytes/1048576})} MB`],counter:""},{prepend:S(()=>[b(he,{name:"cloud_upload",onClick:v[7]||(v[7]=vn(()=>{},["stop"]))})]),_:1},8,["modelValue","label","rules"])),b(H,{loading:s.value,label:d.$t("buttons.submit"),type:"submit",color:"primary"},null,8,["loading","label"]),b(H,{label:d.$t("buttons.reset"),type:"reset"},null,8,["label"])]),_:1}),b(Nt,{showing:!t.value},{default:S(()=>[b(Mt,{size:"xl",color:"primary"})]),_:1},8,["showing"])],64))}}),wo=te({__name:"IndexPage",setup(e){const t=N("receive");return(i,s)=>(I(),K(xe,null,{default:S(()=>[b(Dt,{"model-value":20,disable:""},{before:S(()=>[b(Lt,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=u=>t.value=u),vertical:"",class:"text-primary"},{default:S(()=>[b(Ie,{name:"receive",icon:"file_download",label:i.$t("tabs.receive")},null,8,["label"]),b(Ie,{name:"upload",icon:"file_upload",label:i.$t("tabs.upload")},null,8,["label"])]),_:1},8,["modelValue"])]),after:S(()=>[b(Ft,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=u=>t.value=u),animated:"",vertical:"","keep-alive":"","transition-prev":"jump-up","transition-next":"jump-up"},{default:S(()=>[b(Ue,{name:"receive"},{default:S(()=>[b(Qn)]),_:1}),b(Ue,{name:"upload"},{default:S(()=>[b(fo)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});export{wo as default};
