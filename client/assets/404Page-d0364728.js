import{k as Y,b5 as Ie,v as de,f as oe,aG as be,x as fe,z as x,bl as ge,bm as Ce,bn as ze,an as ye,B as ve,aa as Ee,r as C,bo as Le,s as $e,g as k,w as re,V as _e,o as ke,F as v,G as q,P as d,H as y,J as p,K as i,u as t,L as ie,ai as Te,$ as g,aj as O,ah as Se,O as h,Q as ue,a$ as Ne,b0 as Oe,bp as Re,aI as xe,Z as he,bq as Ae,br as Be,aw as Ve,I as Me,N as Ye,Y as R,T as Pe,ac as Fe,_ as me,C as P,E as M,bs as Xe,a1 as pe,bh as De,a8 as He,ag as ce,a7 as je,a9 as We,bt as Ze,bu as Ge,aB as qe,bv as Ke,bw as Je,bx as Qe,aO as Ue}from"./index-a9112117.js";import{i as et,E as tt}from"./button-8e10b83a.js";import{d as nt,g as at}from"./scroll-6cacf6ed.js";const st=(u,c)=>{if(!Y||!u||!c)return!1;const a=u.getBoundingClientRect();let s;return c instanceof Element?s=c.getBoundingClientRect():s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},a.top<s.bottom&&a.bottom>s.top&&a.right>s.left&&a.left<s.right};var lt="Expected a function";function le(u,c,a){var s=!0,l=!0;if(typeof u!="function")throw new TypeError(lt);return Ie(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),nt(u,c,{leading:s,maxWait:c,trailing:l})}const ot=de({urlList:{type:oe(Array),default:()=>be([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),rt={close:()=>!0,switch:u=>fe(u)},it=["src"],ut=x({name:"ElImageViewer"}),ct=x({...ut,props:ot,emits:rt,setup(u,{expose:c,emit:a}){const s=u,l={CONTAIN:{name:"contain",icon:ge(Ce)},ORIGINAL:{name:"original",icon:ge(ze)}},{t:m}=ye(),r=ve("image-viewer"),{nextZIndex:X}=Ee(),N=C(),z=C([]),E=Le(),L=C(!0),w=C(s.initialIndex),b=$e(l.CONTAIN),f=C({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),D=k(()=>{const{urlList:e}=s;return e.length<=1}),A=k(()=>w.value===0),K=k(()=>w.value===s.urlList.length-1),te=k(()=>s.urlList[w.value]),H=k(()=>{const{scale:e,deg:n,offsetX:o,offsetY:_,enableTransition:T}=f.value;let I=o/e,S=_/e;switch(n%360){case 90:case-270:[I,S]=[S,-I];break;case 180:case-180:[I,S]=[-I,-S];break;case 270:case-90:[I,S]=[-S,I];break}const V={transform:`scale(${e}) rotate(${n}deg) translate(${I}px, ${S}px)`,transition:T?"transform .3s":""};return b.value.name===l.CONTAIN.name&&(V.maxWidth=V.maxHeight="100%"),V}),ne=k(()=>fe(s.zIndex)?s.zIndex:X());function B(){ae(),a("close")}function j(){const e=le(o=>{switch(o.code){case M.esc:s.closeOnPressEscape&&B();break;case M.space:Z();break;case M.left:U();break;case M.up:$("zoomIn");break;case M.right:ee();break;case M.down:$("zoomOut");break}}),n=le(o=>{const _=o.deltaY||o.deltaX;$(_<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});E.run(()=>{P(document,"keydown",e),P(document,"wheel",n)})}function ae(){E.stop()}function se(){L.value=!1}function J(e){L.value=!1,e.target.alt=m("el.image.error")}function Q(e){if(L.value||e.button!==0||!N.value)return;f.value.enableTransition=!1;const{offsetX:n,offsetY:o}=f.value,_=e.pageX,T=e.pageY,I=le(V=>{f.value={...f.value,offsetX:n+V.pageX-_,offsetY:o+V.pageY-T}}),S=P(document,"mousemove",I);P(document,"mouseup",()=>{S()}),e.preventDefault()}function W(){f.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Z(){if(L.value)return;const e=Xe(l),n=Object.values(l),o=b.value.name,T=(n.findIndex(I=>I.name===o)+1)%e.length;b.value=l[e[T]],W()}function G(e){const n=s.urlList.length;w.value=(e+n)%n}function U(){A.value&&!s.infinite||G(w.value-1)}function ee(){K.value&&!s.infinite||G(w.value+1)}function $(e,n={}){if(L.value)return;const{zoomRate:o,rotateDeg:_,enableTransition:T}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...n};switch(e){case"zoomOut":f.value.scale>.2&&(f.value.scale=Number.parseFloat((f.value.scale/o).toFixed(3)));break;case"zoomIn":f.value.scale<7&&(f.value.scale=Number.parseFloat((f.value.scale*o).toFixed(3)));break;case"clockwise":f.value.deg+=_;break;case"anticlockwise":f.value.deg-=_;break}f.value.enableTransition=T}return re(te,()=>{_e(()=>{const e=z.value[0];e!=null&&e.complete||(L.value=!0)})}),re(w,e=>{W(),a("switch",e)}),ke(()=>{var e,n;j(),(n=(e=N.value)==null?void 0:e.focus)==null||n.call(e)}),c({setActiveItem:G}),(e,n)=>(v(),q(Fe,{to:"body",disabled:!e.teleported},[d(Pe,{name:"viewer-fade",appear:""},{default:y(()=>[p("div",{ref_key:"wrapper",ref:N,tabindex:-1,class:i(t(r).e("wrapper")),style:ie({zIndex:t(ne)})},[p("div",{class:i(t(r).e("mask")),onClick:n[0]||(n[0]=Te(o=>e.hideOnClickModal&&B(),["self"]))},null,2),g(" CLOSE "),p("span",{class:i([t(r).e("btn"),t(r).e("close")]),onClick:B},[d(t(O),null,{default:y(()=>[d(t(Se))]),_:1})],2),g(" ARROW "),t(D)?g("v-if",!0):(v(),h(ue,{key:0},[p("span",{class:i([t(r).e("btn"),t(r).e("prev"),t(r).is("disabled",!e.infinite&&t(A))]),onClick:U},[d(t(O),null,{default:y(()=>[d(t(Ne))]),_:1})],2),p("span",{class:i([t(r).e("btn"),t(r).e("next"),t(r).is("disabled",!e.infinite&&t(K))]),onClick:ee},[d(t(O),null,{default:y(()=>[d(t(Oe))]),_:1})],2)],64)),g(" ACTIONS "),p("div",{class:i([t(r).e("btn"),t(r).e("actions")])},[p("div",{class:i(t(r).e("actions__inner"))},[d(t(O),{onClick:n[1]||(n[1]=o=>$("zoomOut"))},{default:y(()=>[d(t(Re))]),_:1}),d(t(O),{onClick:n[2]||(n[2]=o=>$("zoomIn"))},{default:y(()=>[d(t(xe))]),_:1}),p("i",{class:i(t(r).e("actions__divider"))},null,2),d(t(O),{onClick:Z},{default:y(()=>[(v(),q(he(t(b).icon)))]),_:1}),p("i",{class:i(t(r).e("actions__divider"))},null,2),d(t(O),{onClick:n[3]||(n[3]=o=>$("anticlockwise"))},{default:y(()=>[d(t(Ae))]),_:1}),d(t(O),{onClick:n[4]||(n[4]=o=>$("clockwise"))},{default:y(()=>[d(t(Be))]),_:1})],2)],2),g(" CANVAS "),p("div",{class:i(t(r).e("canvas"))},[(v(!0),h(ue,null,Ve(e.urlList,(o,_)=>Me((v(),h("img",{ref_for:!0,ref:T=>z.value[_]=T,key:o,src:o,style:ie(t(H)),class:i(t(r).e("img")),onLoad:se,onError:J,onMousedown:Q},null,46,it)),[[Ye,_===w.value]])),128))],2),R(e.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var dt=me(ct,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const ft=pe(dt),vt=de({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:oe([String,Object])},previewSrcList:{type:oe(Array),default:()=>be([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),mt={load:u=>u instanceof Event,error:u=>u instanceof Event,switch:u=>fe(u),close:()=>!0,show:()=>!0},pt=["src","loading"],gt={key:0},wt=x({name:"ElImage",inheritAttrs:!1}),bt=x({...wt,props:vt,emits:mt,setup(u,{emit:c}){const a=u;let s="";const{t:l}=ye(),m=ve("image"),r=De(),X=et(),N=C(),z=C(!1),E=C(!0),L=C(!1),w=C(),b=C(),f=Y&&"loading"in HTMLImageElement.prototype;let D,A;const K=k(()=>r.style),te=k(()=>{const{fit:e}=a;return Y&&e?{objectFit:e}:{}}),H=k(()=>{const{previewSrcList:e}=a;return Array.isArray(e)&&e.length>0}),ne=k(()=>{const{previewSrcList:e,initialIndex:n}=a;let o=n;return n>e.length-1&&(o=0),o}),B=k(()=>a.loading==="eager"?!1:!f&&a.loading==="lazy"||a.lazy),j=()=>{Y&&(E.value=!0,z.value=!1,N.value=a.src)};function ae(e){E.value=!1,z.value=!1,c("load",e)}function se(e){E.value=!1,z.value=!0,c("error",e)}function J(){st(w.value,b.value)&&(j(),Z())}const Q=Ze(J,200);async function W(){var e;if(!Y)return;await _e();const{scrollContainer:n}=a;je(n)?b.value=n:We(n)&&n!==""?b.value=(e=document.querySelector(n))!=null?e:void 0:w.value&&(b.value=at(w.value)),b.value&&(D=P(b,"scroll",Q),setTimeout(()=>J(),100))}function Z(){!Y||!b.value||!Q||(D==null||D(),b.value=void 0)}function G(e){if(e.ctrlKey){if(e.deltaY<0)return e.preventDefault(),!1;if(e.deltaY>0)return e.preventDefault(),!1}}function U(){H.value&&(A=P("wheel",G,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",L.value=!0,c("show"))}function ee(){A==null||A(),document.body.style.overflow=s,L.value=!1,c("close")}function $(e){c("switch",e)}return re(()=>a.src,()=>{B.value?(E.value=!0,z.value=!1,Z(),W()):j()}),ke(()=>{B.value?W():j()}),(e,n)=>(v(),h("div",{ref_key:"container",ref:w,class:i([t(m).b(),e.$attrs.class]),style:ie(t(K))},[N.value!==void 0&&!z.value?(v(),h("img",He({key:0},t(X),{src:N.value,loading:e.loading,style:t(te),class:[t(m).e("inner"),t(H)&&t(m).e("preview"),E.value&&t(m).is("loading")],onClick:U,onLoad:ae,onError:se}),null,16,pt)):g("v-if",!0),E.value||z.value?(v(),h("div",{key:1,class:i(t(m).e("wrapper"))},[E.value?R(e.$slots,"placeholder",{key:0},()=>[p("div",{class:i(t(m).e("placeholder"))},null,2)]):z.value?R(e.$slots,"error",{key:1},()=>[p("div",{class:i(t(m).e("error"))},ce(t(l)("el.image.error")),3)]):g("v-if",!0)],2)):g("v-if",!0),t(H)?(v(),h(ue,{key:2},[L.value?(v(),q(t(ft),{key:0,"z-index":e.zIndex,"initial-index":t(ne),infinite:e.infinite,"zoom-rate":e.zoomRate,"url-list":e.previewSrcList,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:ee,onSwitch:$},{default:y(()=>[e.$slots.viewer?(v(),h("div",gt,[R(e.$slots,"viewer")])):g("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):g("v-if",!0)],64)):g("v-if",!0)],6))}});var yt=me(bt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const _t=pe(yt),F={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},we={[F.success]:Ge,[F.warning]:qe,[F.error]:Ke,[F.info]:Je},kt=de({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),ht=x({name:"ElResult"}),It=x({...ht,props:kt,setup(u){const c=u,a=ve("result"),s=k(()=>{const l=c.icon,m=l&&F[l]?F[l]:"icon-info",r=we[m]||we["icon-info"];return{class:m,component:r}});return(l,m)=>(v(),h("div",{class:i(t(a).b())},[p("div",{class:i(t(a).e("icon"))},[R(l.$slots,"icon",{},()=>[t(s).component?(v(),q(he(t(s).component),{key:0,class:i(t(s).class)},null,8,["class"])):g("v-if",!0)])],2),l.title||l.$slots.title?(v(),h("div",{key:0,class:i(t(a).e("title"))},[R(l.$slots,"title",{},()=>[p("p",null,ce(l.title),1)])],2)):g("v-if",!0),l.subTitle||l.$slots["sub-title"]?(v(),h("div",{key:1,class:i(t(a).e("subtitle"))},[R(l.$slots,"sub-title",{},()=>[p("p",null,ce(l.subTitle),1)])],2)):g("v-if",!0),l.$slots.extra?(v(),h("div",{key:2,class:i(t(a).e("extra"))},[R(l.$slots,"extra")],2)):g("v-if",!0)],2))}});var Ct=me(It,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const zt=pe(Ct);const Et="/assets/logo-adb7bfa3.jpg",St=x({__name:"404Page",setup(u){const c=Qe(),a=()=>{c.push({name:"Index"})};return(s,l)=>{const m=_t,r=tt,X=zt;return v(),q(X,{title:"404","sub-title":"Not Found"},{icon:y(()=>[d(m,{src:t(Et)},null,8,["src"])]),extra:y(()=>[d(r,{type:"primary",onClick:l[0]||(l[0]=N=>a())},{default:y(()=>[Ue("返回")]),_:1})]),_:1})}}});export{St as default};
